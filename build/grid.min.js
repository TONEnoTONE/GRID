(function() {function h(){return function(){}}var l,m=this;
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function n(a){return void 0!==a}function q(a){return"array"==aa(a)}function ba(a){var b=aa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function r(a){return"string"==typeof a}function ca(a){return"number"==typeof a}function da(a){return"function"==aa(a)}function ea(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var fa="closure_uid_"+(1E9*Math.random()>>>0),ga=0;
function ha(a,b,c){return a.call.apply(a.bind,arguments)}function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ja(a,b,c){ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return ja.apply(null,arguments)}
function ka(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var la=Date.now||function(){return+new Date};function s(a,b){function c(){}c.prototype=b.prototype;a.j=b.prototype;a.prototype=new c};function ma(a){if(!na.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(oa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(pa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(qa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ra,"&quot;"));return a}var oa=/&/g,pa=/</g,qa=/>/g,ra=/\"/g,na=/[&<>\"]/;function t(a){return Array.prototype.join.call(arguments,"")}function sa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function ta(a){var b=r(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,f){return b+f.toUpperCase()})};function ua(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wa(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<va.length;e++)c=va[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var xa;var v=Array.prototype,ya=v.indexOf?function(a,b,c){return v.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(r(a))return r(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},za=v.forEach?function(a,b,c){v.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=r(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Aa=v.filter?function(a,b,c){return v.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],e=0,g=r(a)?
a.split(""):a,k=0;k<d;k++)if(k in g){var p=g[k];b.call(c,p,k,a)&&(f[e++]=p)}return f},Ba=v.map?function(a,b,c){return v.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),e=r(a)?a.split(""):a,g=0;g<d;g++)g in e&&(f[g]=b.call(c,e[g],g,a));return f};function Ca(a,b){var c=ya(a,b),d;(d=0<=c)&&v.splice.call(a,c,1);return d}function Da(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ea(a,b,c){return 2>=arguments.length?v.slice.call(a,b):v.slice.call(a,b,c)};function w(a,b){this.x=n(a)?a:0;this.y=n(b)?b:0}l=w.prototype;l.I=function(){return new w(this.x,this.y)};l.toString=function(){return"("+this.x+", "+this.y+")"};function Fa(a,b){return a==b?!0:a&&b?a.x==b.x&&a.y==b.y:!1}l.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};l.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};l.translate=function(a,b){a instanceof w?(this.x+=a.x,this.y+=a.y):(this.x+=a,ca(b)&&(this.y+=b));return this};
l.scale=function(a,b){var c=ca(b)?b:a;this.x*=a;this.y*=c;return this};var Ga,Ha,Ia,Ja;function Ka(){return m.navigator?m.navigator.userAgent:null}Ja=Ia=Ha=Ga=!1;var La;if(La=Ka()){var Ma=m.navigator;Ga=0==La.lastIndexOf("Opera",0);Ha=!Ga&&(-1!=La.indexOf("MSIE")||-1!=La.indexOf("Trident"));Ia=!Ga&&-1!=La.indexOf("WebKit");Ja=!Ga&&!Ia&&!Ha&&"Gecko"==Ma.product}var x=Ga,y=Ha,z=Ja,A=Ia,Na=m.navigator,Oa=-1!=(Na&&Na.platform||"").indexOf("Mac");function Pa(){var a=m.document;return a?a.documentMode:void 0}var Qa;
a:{var Ra="",Sa;if(x&&m.opera)var Ta=m.opera.version,Ra="function"==typeof Ta?Ta():Ta;else if(z?Sa=/rv\:([^\);]+)(\)|;)/:y?Sa=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:A&&(Sa=/WebKit\/(\S+)/),Sa)var Ua=Sa.exec(Ka()),Ra=Ua?Ua[1]:"";if(y){var Va=Pa();if(Va>parseFloat(Ra)){Qa=String(Va);break a}}Qa=Ra}var Wa={};
function B(a){var b;if(!(b=Wa[a])){b=0;for(var c=String(Qa).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||"",k=d[e]||"",p=/(\d*)(\D*)/g,u=/(\d*)(\D*)/g;do{var J=p.exec(g)||["","",""],K=u.exec(k)||["","",""];if(0==J[0].length&&0==K[0].length)break;b=((0==J[1].length?0:parseInt(J[1],10))<(0==K[1].length?0:parseInt(K[1],10))?-1:(0==J[1].length?0:parseInt(J[1],10))>(0==K[1].length?
0:parseInt(K[1],10))?1:0)||((0==J[2].length)<(0==K[2].length)?-1:(0==J[2].length)>(0==K[2].length)?1:0)||(J[2]<K[2]?-1:J[2]>K[2]?1:0)}while(0==b)}b=Wa[a]=0<=b}return b}var Xa=m.document,Ya=Xa&&y?Pa()||("CSS1Compat"==Xa.compatMode?parseInt(Qa,10):5):void 0;function Za(a,b){this.width=a;this.height=b}l=Za.prototype;l.I=function(){return new Za(this.width,this.height)};l.toString=function(){return"("+this.width+" x "+this.height+")"};l.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};l.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};l.scale=function(a,b){var c=ca(b)?b:a;this.width*=a;this.height*=c;return this};function $a(){return A?"Webkit":z?"Moz":y?"ms":x?"O":null}function ab(){return A?"-webkit":z?"-moz":y?"-ms":x?"-o":null}function bb(a){var b=$a();return b?(b=b.toLowerCase(),a=b+ta(a),!n(void 0)||a in void 0?a:null):null};function cb(a){a=a.className;return r(a)&&a.match(/\S+/g)||[]}function db(a,b){for(var c=cb(a),d=Ea(arguments,1),f=c.length+d.length,e=c,g=0;g<d.length;g++)0<=ya(e,d[g])||e.push(d[g]);a.className=c.join(" ");return c.length==f}function eb(a,b){var c=cb(a),d=Ea(arguments,1),c=fb(c,d);a.className=c.join(" ")}function fb(a,b){return Aa(a,function(a){return!(0<=ya(b,a))})};var gb=!y||y&&9<=Ya;!z&&!y||y&&y&&9<=Ya||z&&B("1.9.1");y&&B("9");function hb(a){return a?new ib(jb(a)):xa||(xa=new ib)}function kb(a,b){ua(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in lb?a.setAttribute(lb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var lb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function C(a,b,c){var d=arguments,f=document,e=d[0],g=d[1];if(!gb&&g&&(g.name||g.type)){e=["<",e];g.name&&e.push(' name="',ma(g.name),'"');if(g.type){e.push(' type="',ma(g.type),'"');var k={};wa(k,g);delete k.type;g=k}e.push(">");e=e.join("")}e=f.createElement(e);g&&(r(g)?e.className=g:q(g)?db.apply(null,[e].concat(g)):kb(e,g));2<d.length&&mb(f,e,d);return e}
function mb(a,b,c){function d(c){c&&b.appendChild(r(c)?a.createTextNode(c):c)}for(var f=2;f<c.length;f++){var e=c[f];if(!ba(e)||ea(e)&&0<e.nodeType)d(e);else{var g;a:{if(e&&"number"==typeof e.length){if(ea(e)){g="function"==typeof e.item||"string"==typeof e.item;break a}if(da(e)){g="function"==typeof e.item;break a}}g=!1}za(g?Da(e):e,d)}}}function nb(a){for(var b;b=a.firstChild;)a.removeChild(b)}function ob(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function jb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function ib(a){this.V=a||m.document||document}ib.prototype.createElement=function(a){return this.V.createElement(a)};ib.prototype.createTextNode=function(a){return this.V.createTextNode(String(a))};
function pb(a){var b=a.V;a=A||"CSS1Compat"!=b.compatMode?b.body:b.documentElement;b=b.parentWindow||b.defaultView;return y&&B("10")&&b.pageYOffset!=a.scrollTop?new w(a.scrollLeft,a.scrollTop):new w(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}ib.prototype.appendChild=function(a,b){a.appendChild(b)};function D(a,b,c){r(b)?qb(a,c,b):ua(b,ka(qb,a))}function qb(a,b,c){(c=rb(a,c))&&(a.style[c]=b)}function rb(a,b){var c=sa(b);if(void 0===a.style[c]){var d=$a()+ta(b);if(void 0!==a.style[d])return d}return c}function E(a,b){var c;a:{c=jb(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c[b]||c.getPropertyValue(b)||"";break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function sb(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}y&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function tb(a){if(y&&!(y&&8<=Ya))return a.offsetParent;var b=jb(a),c=E(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=E(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function ub(a){if(1==a.nodeType){var b;if(a.getBoundingClientRect)b=sb(a),b=new w(b.left,b.top);else{b=pb(hb(a));var c,d=jb(a),f=E(a,"position"),e=z&&d.getBoxObjectFor&&!a.getBoundingClientRect&&"absolute"==f&&(c=d.getBoxObjectFor(a))&&(0>c.screenX||0>c.screenY),g=new w(0,0),k;c=d?jb(d):document;(k=!y)||(k=y&&9<=Ya)||(k="CSS1Compat"==hb(c).V.compatMode);k=k?c.documentElement:c.body;if(a!=k)if(a.getBoundingClientRect)c=sb(a),d=pb(hb(d)),g.x=c.left+d.x,g.y=c.top+d.y;else if(d.getBoxObjectFor&&!e)c=
d.getBoxObjectFor(a),d=d.getBoxObjectFor(k),g.x=c.screenX-d.screenX,g.y=c.screenY-d.screenY;else{e=a;do{g.x+=e.offsetLeft;g.y+=e.offsetTop;e!=a&&(g.x+=e.clientLeft||0,g.y+=e.clientTop||0);if(A&&"fixed"==E(e,"position")){g.x+=d.body.scrollLeft;g.y+=d.body.scrollTop;break}e=e.offsetParent}while(e&&e!=a);if(x||A&&"absolute"==f)g.y-=d.body.offsetTop;for(e=a;(e=tb(e))&&e!=d.body&&e!=k;)g.x-=e.scrollLeft,x&&"TR"==e.tagName||(g.y-=e.scrollTop)}b=new w(g.x-b.x,g.y-b.y)}if(z&&!B(12)){var p;y?p="-ms-transform":
A?p="-webkit-transform":x?p="-o-transform":z&&(p="-moz-transform");var u;p&&(u=E(a,p));u||(u=E(a,"transform"));a=u?(a=u.match(vb))?new w(parseFloat(a[1]),parseFloat(a[2])):new w(0,0):new w(0,0);a=new w(b.x+a.x,b.y+a.y)}else a=b;return a}p=da(a.Na);u=a;a.targetTouches?u=a.targetTouches[0]:p&&a.B.targetTouches&&(u=a.B.targetTouches[0]);return new w(u.clientX,u.clientY)}
function wb(a,b,c){if(b instanceof Za)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=xb(b);a.style.height=xb(c)}function xb(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function yb(a){var b=a.offsetWidth,c=a.offsetHeight,d=A&&!b&&!c;return n(b)&&!d||!a.getBoundingClientRect?new Za(b,c):(a=sb(a),new Za(a.right-a.left,a.bottom-a.top))}function F(a,b){a.style.display=b?"":"none"}var vb=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;var zb=C("div",{id:"PhoneWrapper"}),Ab=C("div",{id:"PhoneScreen"}),Bb=C("div",{id:"GameScreen","class":"screen"}),Cb=C("div",{id:"PartsScreen","class":"screen"}),Db=C("div",{id:"SplashScreen","class":"screen"}),Eb=C("div",{id:"SongsScreen","class":"screen"}),Fb=C("div",{id:"AnimationStyles"});document.body.appendChild(zb);zb.appendChild(Ab);Ab.appendChild(Bb);Ab.appendChild(Cb);Ab.appendChild(Db);Ab.appendChild(Eb);document.body.appendChild(Fb);var Gb=!y||y&&9<=Ya,Hb=y&&!B("9");!A||B("528");z&&B("1.9b")||y&&B("8")||x&&B("9.5")||A&&B("528");z&&!B("8")||y&&B("9");function G(){0!=Ib&&(Jb[this[fa]||(this[fa]=++ga)]=this)}var Ib=0,Jb={};G.prototype.ua=!1;G.prototype.h=function(){if(!this.ua&&(this.ua=!0,this.b(),0!=Ib)){var a=this[fa]||(this[fa]=++ga);delete Jb[a]}};G.prototype.b=function(){if(this.Ca)for(;this.Ca.length;)this.Ca.shift()()};function Kb(a,b){this.type=a;this.currentTarget=this.target=b}l=Kb.prototype;l.b=h();l.h=h();l.v=!1;l.defaultPrevented=!1;l.Ha=!0;l.preventDefault=function(){this.defaultPrevented=!0;this.Ha=!1};function Lb(a){Lb[" "](a);return a}Lb[" "]=h();function Mb(a,b){a&&Nb(this,a,b)}s(Mb,Kb);l=Mb.prototype;l.target=null;l.relatedTarget=null;l.offsetX=0;l.offsetY=0;l.clientX=0;l.clientY=0;l.screenX=0;l.screenY=0;l.button=0;l.keyCode=0;l.charCode=0;l.ctrlKey=!1;l.altKey=!1;l.shiftKey=!1;l.metaKey=!1;l.B=null;
function Nb(a,b,c){var d=a.type=b.type;Kb.call(a,d);a.target=b.target||b.srcElement;a.currentTarget=c;if(c=b.relatedTarget){if(z){var f;a:{try{Lb(c.nodeName);f=!0;break a}catch(e){}f=!1}f||(c=null)}}else"mouseover"==d?c=b.fromElement:"mouseout"==d&&(c=b.toElement);a.relatedTarget=c;a.offsetX=A||void 0!==b.offsetX?b.offsetX:b.layerX;a.offsetY=A||void 0!==b.offsetY?b.offsetY:b.layerY;a.clientX=void 0!==b.clientX?b.clientX:b.pageX;a.clientY=void 0!==b.clientY?b.clientY:b.pageY;a.screenX=b.screenX||0;
a.screenY=b.screenY||0;a.button=b.button;a.keyCode=b.keyCode||0;a.charCode=b.charCode||("keypress"==d?b.keyCode:0);a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.metaKey=b.metaKey;a.state=b.state;a.B=b;b.defaultPrevented&&a.preventDefault();delete a.v}l.preventDefault=function(){Mb.j.preventDefault.call(this);var a=this.B;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,Hb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};l.Na=function(){return this.B};
l.b=h();var H={c:Db,u:function(){H.L();H.r()},L:function(){var a=C("pre",{id:"gridBubbleDiv"},"\n _______  ______    ___   ______   \n|       ||    _ |  |   | |      |  \n|    ___||   | ||  |   | |  _    | \n|   | __ |   |_||_ |   | | | |   | \n|   ||  ||    __  ||   | | |_|   | \n|   |_| ||   |  | ||   | |       | \n|_______||___|  |_||___| |______|  \n  \t\t\t\t\t\t\t\t\t\n                 un                \n ___      _______  _______  ___   _  \n|   |    |       ||       ||   | | | \n|   |    |   _   ||       ||   |_| | \n|   |    |  | |  ||       ||      _| \n|   |___ |  |_|  ||      _||     |_  \n|       ||       ||     |_ |    _  | \n|_______||_______||_______||___| |_| \n");
H.c.appendChild(a)},ca:function(){F(H.c,!0)},r:function(){F(H.c,!1)}};H.u();var Ob;function Pb(a,b){q(b)||(b=[b]);var c=Ba(b,function(a){return r(a)?a:a.Ga+" "+a.duration+"s "+a.timing+" "+a.ta+"s"});D(a,"transition",c.join(","))};var Qb="closure_listenable_"+(1E6*Math.random()|0);function Rb(a){try{return!(!a||!a[Qb])}catch(b){return!1}}var Sb=0;function Tb(a,b,c,d,f){this.listener=a;this.ba=null;this.src=b;this.type=c;this.capture=!!d;this.W=f;this.key=++Sb;this.G=this.T=!1}function Ub(a){a.G=!0;a.listener=null;a.ba=null;a.src=null;a.W=null};function I(a){this.src=a;this.g={};this.R=0}I.prototype.add=function(a,b,c,d,f){var e=this.g[a];e||(e=this.g[a]=[],this.R++);var g=Vb(e,b,d,f);-1<g?(a=e[g],c||(a.T=!1)):(a=new Tb(b,this.src,a,!!d,f),a.T=c,e.push(a));return a};I.prototype.remove=function(a,b,c,d){if(!(a in this.g))return!1;var f=this.g[a];b=Vb(f,b,c,d);return-1<b?(Ub(f[b]),v.splice.call(f,b,1),0==f.length&&(delete this.g[a],this.R--),!0):!1};
function Wb(a,b){var c=b.type;if(!(c in a.g))return!1;var d=Ca(a.g[c],b);d&&(Ub(b),0==a.g[c].length&&(delete a.g[c],a.R--));return d}I.prototype.na=function(a){var b=0,c;for(c in this.g)if(!a||c==a){for(var d=this.g[c],f=0;f<d.length;f++)++b,Ub(d[f]);delete this.g[c];this.R--}return b};I.prototype.K=function(a,b,c,d){a=this.g[a];var f=-1;a&&(f=Vb(a,b,c,d));return-1<f?a[f]:null};
function Vb(a,b,c,d){for(var f=0;f<a.length;++f){var e=a[f];if(!e.G&&e.listener==b&&e.capture==!!c&&e.W==d)return f}return-1};var Xb="closure_lm_"+(1E6*Math.random()|0),Yb={},Zb=0;function L(a,b,c,d,f){if(q(b)){for(var e=0;e<b.length;e++)L(a,b[e],c,d,f);return null}c=$b(c);if(Rb(a))a=a.F(b,c,d,f);else{if(!b)throw Error("Invalid event type");var e=!!d,g=ac(a);g||(a[Xb]=g=new I(a));c=g.add(b,c,!1,d,f);c.ba||(d=bc(),c.ba=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b,d,e):a.attachEvent(b in Yb?Yb[b]:Yb[b]="on"+b,d),Zb++);a=c}return a}
function bc(){var a=cc,b=Gb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function dc(a,b,c,d,f){if(q(b))for(var e=0;e<b.length;e++)dc(a,b[e],c,d,f);else c=$b(c),Rb(a)?a.qa(b,c,d,f):a&&(a=ac(a))&&(b=a.K(b,c,!!d,f))&&M(b)}
function M(a){if(ca(a)||!a||a.G)return!1;var b=a.src;if(Rb(b))return Wb(b.q,a);var c=a.type,d=a.ba;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(c in Yb?Yb[c]:Yb[c]="on"+c,d);Zb--;(c=ac(b))?(Wb(c,a),0==c.R&&(c.src=null,b[Xb]=null)):Ub(a);return!0}function ec(a,b,c,d){var f=1;if(a=ac(a))if(b=a.g[b])for(b=Da(b),a=0;a<b.length;a++){var e=b[a];e&&e.capture==c&&!e.G&&(f&=!1!==fc(e,d))}return Boolean(f)}
function fc(a,b){var c=a.listener,d=a.W||a.src;a.T&&M(a);return c.call(d,b)}
function cc(a,b){if(a.G)return!0;if(!Gb){var c;if(!(c=b))a:{c=["window","event"];for(var d=m,f;f=c.shift();)if(null!=d[f])d=d[f];else{c=null;break a}c=d}f=c;c=new Mb(f,this);d=!0;if(!(0>f.keyCode||void 0!=f.returnValue)){a:{var e=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==f.returnValue)f.returnValue=!0}f=[];for(e=c.currentTarget;e;e=e.parentNode)f.push(e);for(var e=a.type,k=f.length-1;!c.v&&0<=k;k--)c.currentTarget=f[k],d&=ec(f[k],e,!0,c);for(k=0;!c.v&&k<f.length;k++)c.currentTarget=
f[k],d&=ec(f[k],e,!1,c)}return d}return fc(a,new Mb(b,this))}function ac(a){a=a[Xb];return a instanceof I?a:null}var gc="__closure_events_fn_"+(1E9*Math.random()>>>0);function $b(a){return da(a)?a:a[gc]||(a[gc]=function(b){return a.handleEvent(b)})};function N(a){G.call(this);this.xa=a;this.$={}}s(N,G);var hc=[];l=N.prototype;l.F=function(a,b,c,d,f){q(b)||(hc[0]=b,b=hc);for(var e=0;e<b.length;e++){var g=L(a,b[e],c||this,d||!1,f||this.xa||this);if(!g)break;this.$[g.key]=g}return this};l.qa=function(a,b,c,d,f){if(q(b))for(var e=0;e<b.length;e++)this.qa(a,b[e],c,d,f);else f=f||this.xa||this,c=$b(c||this),d=!!d,b=Rb(a)?a.K(b,c,d,f):a?(a=ac(a))?a.K(b,c,d,f):null:null,b&&(M(b),delete this.$[b.key]);return this};
l.na=function(){ua(this.$,M);this.$={}};l.b=function(){N.j.b.call(this);this.na()};l.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function O(a,b){this.J=this.a=null;this.U=h();G.call(this);this.U=b;this.a=C("div",{"class":"Button"});this.J=C("div",{"class":"ButtonTextContainer"},a);this.sa=new N;this.sa.F(this.a,["click","touchend"],this.Ka,!0,this);this.a.appendChild(this.J)}s(O,G);O.prototype.Ka=function(a){a.preventDefault();this.U(this)};O.prototype.show=function(){F(this.a,!0)};O.prototype.ia=function(){F(this.a,!1)};O.prototype.b=function(){nb(this.a);ob(this.a);this.a=null;this.U=h();this.sa.h();O.j.b.call(this)};function P(){G.call(this);this.oa=this.ka=this.D=this.a=null;this.a=C("div",{id:"TopNav"});var a=C("div",{"class":"ButtonContainer"});this.D=new O("GRID",this.Da);this.ka=C("div",{id:"Title"},"unGRID");var b=C("div",{"class":"ButtonContainer"});this.oa=new O("GRID",this.Da);this.a.appendChild(a);a.appendChild(this.D.a);this.a.appendChild(this.ka);this.a.appendChild(b);b.appendChild(this.oa.a);this.oa.ia();this.D.ia()}s(P,G);P.prototype.Da=h();P.prototype.title=function(a){this.ka.textContent=a};
P.prototype.show=function(){F(this.a,!0)};P.prototype.ia=function(){F(this.a,!1)};var ic=[{name:"stage0",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},N:["red","green"]}]}];function jc(a){switch(a){case "n":return"s";case "s":return"n";case "e":return"w";case "w":return"e";default:return"w"}}function kc(a){switch(a){case "n":return new w(0,-1);case "s":return new w(0,1);case "w":return new w(-1,0);case "e":return new w(1,0)}return new w(0,0)}function lc(a){switch(a){case "n":return 90;case "s":return 270;case "e":return 180}return 0}function mc(a,b){var c=new w(a.x-b.x,a.y-b.y);return 0===c.x&&0<c.y?"n":0===c.x&&0>c.y?"s":0>c.x&&0===c.y?"e":0<c.x&&0===c.y?"w":null};var nc=[{name:"stage0",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},N:["red","green"]},{name:"verse2",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},N:["red","green"]}]},{name:"stage1",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,
1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},N:["red","green"]}]},{name:"stage2",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},N:["red","green"]}]}];var Q={l:nc,fb:function(a){Q.l=a?ic:nc},bb:function(a,b,c){return{f:Q.Oa(a,b,c),A:0===Q.l[b].p[c].C[a.y][a.x]?!1:!0}},P:function(a,b,c){return 8<=a.x||0>a.x?0:8<=a.y||0>a.y?0:Q.l[b].p[c].C[a.y][a.x]},Oa:function(a,b,c){for(var d={n:!1,e:!1,s:!1,w:!1},f=Q.P(a,b,c),e=[a.x,a.y],g=Q.l[b].p[c],k=0;k<g.f.length;k++){var p=g.f[k][0],u=g.f[k][1];e[0]===p[0]&&e[1]===p[1]?d[mc(p,u)]=!0:e[0]===u[0]&&e[1]===u[1]&&(d[mc(u,p)]=!0)}Q.X(f,Q.P(new w(a.x+1,a.y),b,c))&&(d.e=!0);Q.X(f,Q.P(new w(a.x-1,a.y),b,c))&&(d.w=
!0);Q.X(f,Q.P(new w(a.x,a.y-1),b,c))&&(d.n=!0);Q.X(f,Q.P(new w(a.x,a.y+1),b,c))&&(d.s=!0);return d},X:function(a,b){return 0===a&&1===b||0===b&&1===a},eb:function(a){return Q.l[a].p.length},Ma:function(a,b){return Q.l[a].p[b].N}};var R={l:Q,c:Eb,da:null,O:[],u:function(){R.l=Q.l;R.ab=Q.ab;R.L();R.r()},L:function(){R.da=C("div",{id:"SongButtons"});var a=new P;a.title("SONGS");R.Sa();R.c.appendChild(a.a);R.c.appendChild(R.da)},Sa:function(){for(var a=0;a<nc.length;a++){var b=nc[a],c=new O(b.name,R.Xa);R.O.push({button:c,data:b,index:a});R.da.appendChild(c.a)}},ra:function(){R.O=null;nb(R.da)},Xa:function(a){for(var b=null,c=0;c<R.O.length;c++)if(R.O[c].button===a){b=R.O[c].index;break}0<=b?(oc=b,S.showparts()):console.log("No song obj for the clicked songButton. W.T.F.?")},
Ea:function(){console.log("left click")},Ya:function(){console.log("right click")},ca:function(){F(R.c,!0)},r:function(){F(R.c,!1)}};R.u();function pc(a){this.position=a;this.f={};this.A=!1}pc.prototype.reset=function(){this.f={};this.A=!1};var T=C("div",{id:"BoardView"}),qc=C("canvas",{id:"TileCanvas"}),U=null;function rc(){var a=U;a.save();a.translate(39.9,39.9);a.strokeStyle="#999";a.lineWidth=1;for(var b=0;9>b;b++)a.beginPath(),a.moveTo(0,70*b),a.lineTo(560,70*b),a.stroke();for(b=0;9>b;b++)a.beginPath(),a.moveTo(70*b,0),a.lineTo(70*b,560),a.stroke();a.restore()}function sc(a){a=a.I().translate(-39.9,-39.9);a.scale(1/70);return a.floor()}function tc(a){var b=ub(T);return sc(new w(a.clientX-b.x,a.clientY-b.y))}T.appendChild(qc);
U=qc.getContext("2d");wb(T,639.8,639.8);wb(qc,639.8,639.8);U.canvas.width=639.8;U.canvas.height=639.8;Bb.appendChild(T);L(T,["touchstart","mousedown"],function(a){a.preventDefault();a=tc(a);if(null!==uc){var b=vc(a);b&&b.A&&null===wc(a)?null!==uc&&(b=new V(uc),b.setPosition(a),0<=ya(xc,b)||xc.push(b),yc()):yc()}});L(T,["touchend","mouseup"],function(a){a.preventDefault();tc(a)});var zc=Array(8);function vc(a){var b=a.x,c=a.y;return 0<=b&&8>b&&0<=c&&8>c?zc[a.y][a.x]:null}function Ac(a){for(var b=0;8>b;b++)for(var c=0;8>c;c++){var d=new w(b,c);a(vc(d),d)}}function Bc(){U.clearRect(0,0,qc.width,qc.height);Ac(function(a){a.reset()})}
function Cc(){rc();Ac(function(a){U.save();U.translate(39.9,39.9);var b=U;if(a.A){var c=a.position.I().scale(70);a.f.s&&(b.beginPath(),b.lineWidth=3.5,b.strokeStyle="#fff",b.moveTo(c.x+3.5,c.y+70),b.lineTo(c.x+70-3.5,c.y+70),b.stroke());a.f.n&&(b.beginPath(),b.lineWidth=3.5,b.strokeStyle="#fff",b.moveTo(c.x+3.5,c.y),b.lineTo(c.x+70-3.5,c.y),b.stroke());a.f.w&&(b.beginPath(),b.lineWidth=3.5,b.strokeStyle="#fff",b.moveTo(c.x,c.y+3.5),b.lineTo(c.x,c.y+70-3.5),b.stroke());a.f.e&&(b.beginPath(),b.lineWidth=
3.5,b.strokeStyle="#fff",b.moveTo(c.x+70,c.y+3.5),b.lineTo(c.x+70,c.y+70-3.5),b.stroke())}U.restore()})}for(var Dc=0;8>Dc;Dc++)zc[Dc]=Array(8);for(var Ec=0;8>Ec;Ec++)for(var Fc=0;8>Fc;Fc++)zc[Fc][Ec]=new pc(new w(Ec,Fc));var uc=null,W=[],Gc=C("div",{id:"PieceSelection"});function Hc(){for(var a=0;a<W.length;a++)W[a].h();W=[]}function Ic(a){uc=a;for(var b=0;b<W.length;b++){var c=W[b];c.type===a?Jc(c.view,!0):Jc(c.view,!1)}}function yc(){for(var a=0;a<W.length;a++)Jc(W[a].view,!1);uc=null}Bb.appendChild(Gc);function X(){G.call(this);this.q=new I(this);this.Ja=this}s(X,G);X.prototype[Qb]=!0;l=X.prototype;l.ma=null;l.addEventListener=function(a,b,c,d){L(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){dc(this,a,b,c,d)};
l.dispatchEvent=function(a){var b,c=this.ma;if(c)for(b=[];c;c=c.ma)b.push(c);var c=this.Ja,d=a.type||a;if(r(a))a=new Kb(a,c);else if(a instanceof Kb)a.target=a.target||c;else{var f=a;a=new Kb(d,c);wa(a,f)}var f=!0,e;if(b)for(var g=b.length-1;!a.v&&0<=g;g--)e=a.currentTarget=b[g],f=Kc(e,d,!0,a)&&f;a.v||(e=a.currentTarget=c,f=Kc(e,d,!0,a)&&f,a.v||(f=Kc(e,d,!1,a)&&f));if(b)for(g=0;!a.v&&g<b.length;g++)e=a.currentTarget=b[g],f=Kc(e,d,!1,a)&&f;return f};
l.b=function(){X.j.b.call(this);this.q&&this.q.na(void 0);this.ma=null};l.F=function(a,b,c,d){return this.q.add(a,b,!1,c,d)};l.qa=function(a,b,c,d){return this.q.remove(a,b,c,d)};function Kc(a,b,c,d){b=a.q.g[b];if(!b)return!0;b=Da(b);for(var f=!0,e=0;e<b.length;++e){var g=b[e];if(g&&!g.G&&g.capture==c){var k=g.listener,p=g.W||g.src;g.T&&Wb(a.q,g);f=!1!==k.call(p,d)&&f}}return f&&!1!=d.Ha}l.K=function(a,b,c,d){return this.q.K(a,b,c,d)};function Lc(){X.call(this);this.ea=Mc;this.startTime=null}s(Lc,X);var Mc=0;function Nc(a,b,c){if(da(a))c&&(a=ja(a,c));else if(a&&"function"==typeof a.handleEvent)a=ja(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:m.setTimeout(a,b||0)};function Oc(a,b,c,d,f){Lc.call(this);this.k=a;this.La=b;this.Ra=c;this.va=d;this.cb=q(f)?f:[f]}s(Oc,Lc);l=Oc.prototype;
l.play=function(){if(1==this.ea)return!1;this.dispatchEvent("begin");this.dispatchEvent("play");this.startTime=la();this.ea=1;if(!n(Ob))if(y)Ob=B("10.0");else{var a=document.createElement("div"),b=ab();a.innerHTML='<div style="'+(b?b+"-transition:opacity 1s linear;":"")+'transition:opacity 1s linear;">';a=a.firstChild;b=a.style[sa("transition")];Ob=""!=("undefined"!==typeof b?b:a.style[rb(a,"transition")]||"")}if(Ob)return D(this.k,this.Ra),this.Ia=Nc(this.$a,void 0,this),!0;this.pa(!1);return!1};
l.$a=function(){Pb(this.k,this.cb);D(this.k,this.va);this.Ia=Nc(ja(this.pa,this,!1),1E3*this.La)};l.stop=function(){1==this.ea&&this.pa(!0)};l.pa=function(a){D(this.k,"transition","");m.clearTimeout(this.Ia);D(this.k,this.va);la();this.ea=Mc;a?this.dispatchEvent("stop"):this.dispatchEvent("finish");this.dispatchEvent("end")};l.b=function(){this.stop();Oc.j.b.call(this)};function Pc(a){G.call(this);this.d=a;this.a=C("div",{"class":"PieceView"});this.fa=C("canvas",{id:"PieceViewCanvas"});this.o=C("div",{id:"MouseLayer"});this.a.appendChild(this.o);this.a.appendChild(this.fa);this.context=this.fa.getContext("2d");db(this.a,this.d.type);this.za=new N;this.za.F(this.o,["touchstart","mousedown"],this.Ta,!1,this);this.Ba=new N;this.Ba.F(this.o,["touchend","click","mouseup","touchcancel","mouseout"],this.Va,!1,this);this.Aa=new N;this.Aa.F(this.o,["touchmove","mousemove"],
this.Ua,!1,this);this.selected=this.ha=!1;this.wa=!0;this.S=0;this.d.selection?Gc.appendChild(this.a):(this.selected=!0,db(this.o,"expanded"));this.size();this.context.moveTo(47.6,11.2);this.context.lineTo(11.2,35);this.context.lineTo(47.6,58.8);this.context.strokeStyle=Qc(this.d.type);this.context.lineWidth=11.2;this.context.lineCap="round";this.context.lineJoin="round";this.context.stroke()}s(Pc,G);l=Pc.prototype;
l.b=function(){this.za.h();this.Ba.h();this.Aa.h();nb(this.a);ob(this.a);this.d=this.a=null;Pc.j.b.call(this)};function Jc(a,b){b?db(a.a,"selected"):eb(a.a,"selected")}l.Ta=function(a){a.preventDefault();this.selected=!0;this.d.selection?Ic(this.d.type):db(this.o,"expanded")};l.Va=function(a){a.preventDefault();!this.selected||this.ha||this.d.selection||this.wa||(Ic(this.d.type),a=this.d,Ca(xc,a)&&a.h());this.wa=this.ha=this.selected=!1;eb(this.o,"expanded")};
l.Ua=function(a){a.preventDefault();this.ha=!0;if(this.selected&&!this.d.selection){var b;var c=this.o;if("none"!=E(c,"display"))b=yb(c);else{b=c.style;var d=b.display,f=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";c=yb(c);b.display=d;b.position=e;b.visibility=f;b=c}d=ub(this.o);a=new w(a.clientX-d.x,a.clientY-d.y);a.translate(-b.width/2,-b.height/2);a=sc(a);a=mc(new w(-1,-1),a);null!==a&&(b=this.d,b.direction!==a&&(b.direction=a,Rc(b.view)))}};
l.size=function(){wb(this.fa,70,70);this.context.canvas.height=70;this.context.canvas.width=70};function Rc(a){var b=a.d;if(!b.selection){b.la?T.appendChild(a.a):ob(a.a);var c=b.direction,b=b.position.I().scale(70).translate(39.9,39.9),b=t("translate( ",b.x,"px , ",b.y,"px)"),c=lc(c)-a.S%360;-180>c?c+=360:180<c&&(c-=360);a.S+=c;c=t(b,t("rotate( ",a.S,"deg) "));D(a.a,"transition","");D(a.a,{transform:c,transition:t(ab(),"-transform 50ms")})}};function Sc(a){G.call(this);this.d=a;this.style=C("style",{id:"animStyle_"+a.uid});this.animationName="animation_"+a.uid;Fb.appendChild(this.style)}s(Sc,G);
function Tc(a,b,c){a=t("@",b,"keyframes ",a.animationName," { \n");for(var d=c.length,f=0;f<d;f++){var e=t,g=(100*(f/(d-1))).toFixed(2),k=b,k=k||"",p=c[f].view.d,u=p.position.I().scale(70).translate(39.9,39.9);a=t(a,e(g,"% {",t(k,"transform : ",t("translate( ",u.x,"px , ",u.y,"px) "),t("rotate( ",lc(p.direction),"deg) "),"; "),"} \n"))}return a=t(a,"} \n")}Sc.prototype.b=function(){nb(this.style);ob(this.style);this.d=this.style=null;Sc.j.b.call(this)};function Uc(a){this.d=a;G.call(this)}s(Uc,G);Uc.prototype.b=function(){this.d=null;Uc.j.b.call(this)};function Vc(a,b){G.call(this);this.position=a;this.direction=b;this.view=new Uc(this)}s(Vc,G);Vc.prototype.b=function(){this.view.h();this.view=null;Vc.j.b.call(this)};function Wc(){G.call(this);this.m=[];this.uid=Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36);this.view=new Sc(this)}s(Wc,G);function Xc(a){var b=a.m.length;if(1<b){var c=a.m[0].position,d=a.m[b-1].position;return a.m[b-1].direction===a.m[0].direction&&Fa(c,d)}return!1}Wc.prototype.b=function(){for(var a=0;a<this.m.length;a++)this.m[a].h();this.m=null;this.view.h();this.view=null;Wc.j.b.call(this)};function V(a,b){G.call(this);this.type=a||Yc;this.direction="w";this.position=new w(-1,-1);this.H=new Wc;this.selection=b||!1;this.la=!1;this.view=new Pc(this)}s(V,G);V.prototype.setPosition=function(a){Fa(a,this.position)||(this.la=!0,this.position=a,Rc(this.view))};V.prototype.b=function(){this.H.h();this.H=null;this.view.h();this.view=null;V.j.b.call(this)};
V.prototype.play=function(){var a=this.H.view,b=this.H.m,c=ab()+"-",d;d=t("",Tc(a,"",b));d=t(d,Tc(a,c,b));b=a.style;if("textContent"in b)b.textContent=d;else if(b.firstChild&&3==b.firstChild.nodeType){for(;b.lastChild!=b.firstChild;)b.removeChild(b.lastChild);b.firstChild.data=d}else nb(b),b.appendChild(jb(b).createTextNode(String(d)));d=this.view.a.style;a=t(a.animationName," ","2s"," linear infinite");n(d.animation)?(d.animation=a,d.animationPlayState="running"):n(d[bb("animation")])&&(d[bb("animation")]=
a,d[bb("animationPlayState")]="running")};V.prototype.stop=function(){var a=this.view.a.style;n(a.animation)?a.animation="":n(a[bb("animation")])&&(a[bb("animation")]="")};var Yc="red";function Qc(a){switch(a){case "green":return"#53CC66";case "blue":return"#0092D2";case "yellow":return"#F58107";case "purple":return"#CA60CA"}return"#d4463f"};var xc=[];function Zc(a){for(var b=0,c=xc.length;b<c;b++)a(xc[b],b)}function wc(a){var b=null;Zc(function(c){Fa(c.position,a)&&(b=c)});return b}function $c(){Zc(function(a){a.h()});xc=[];Hc()}function ad(){Zc(function(a){a.play()})}function bd(){Zc(function(a){a.stop()})};var cd=!1;function dd(){Zc(function(a){if(a.la)for(var b=new Vc(a.position,a.direction);!Xc(a.H);)a.H.m.push(b),b=vc(b.position).f[b.direction]?new Vc(vc(b.position).position,jc(b.direction)):new Vc(new w(vc(b.position).position.x+kc(b.direction).x,vc(b.position).position.y+kc(b.direction).y),b.direction)})}var ed=0;$c();ed=ed||0;(function(a){Bc();Ac(function(b,c){var d=Q.bb(c,0,a);b.f=d.f;b.A=d.A});Cc()})(ed);var fd=ed;$c();for(var gd=Q.Ma(0,fd),hd=0;hd<gd.length;hd++){var id=new V(gd[hd],!0);W.push(id)};var Y={c:Bb,Fa:null,u:function(){Y.r();Y.Fa=new O("PLAY",Y.Za);Y.c.appendChild(Y.Fa.a)},ca:function(){F(Y.c,!0)},r:function(){F(Y.c,!1)},Za:function(a){cd?(cd&&(cd=!1,bd()),a.J.textContent="PLAY",eb(a.a,"playing")):(cd||(cd=!0,dd(),ad()),a.J.textContent="STOP",db(a.a,"playing"))}};Y.u();var oc=-1;var Z={l:Q,c:Cb,aa:null,M:[],u:function(){Z.L();Z.r()},L:function(){Z.aa=C("div",{id:"PartsButtons"});var a=new P;a.title("PARTS");var b=Z.Ea;a.D.J.textContent="songs";a.D.U=b;a.D.show();Z.ya();Z.c.appendChild(a.a);Z.c.appendChild(Z.aa)},ya:function(){var a=oc;if(0<=a)for(var a=nc[a].p,b=0;b<a.length;b++){var c=a[b],d=new O(c.name,Z.Wa),f=C("div",{"class":"ButtonContainer"});Z.M.push({button:d,data:c,index:b});Z.aa.appendChild(f);f.appendChild(d.a)}},ra:function(){Z.M=[];nb(Z.aa)},Wa:function(a){for(var b=
-1,c=0;c<Z.M.length;c++)if(Z.M[c].button===a){b=Z.M[c].index;break}0<=b?(oc=b,S.showgame()):console.log("No song obj for the clicked partButton. W.T.F.?")},Ea:function(){console.log("left click");S.showsongs()},Ya:function(){console.log("right click")},ca:function(){Z.ya();F(Z.c,!0)},r:function(){Z.ra();F(Z.c,!1)}};Z.u();var $={};function jd(a){var b=new Oc($[a].c,0.15,{opacity:0},{opacity:1},{Ga:"opacity",duration:0.15,timing:"ease-in",ta:0});L(b,"finish",h());$[a].ca();b.play()}function kd(a){var b=new Oc($[a].c,0.15,{opacity:1},{opacity:0},{Ga:"opacity",duration:0.15,timing:"ease-in",ta:0});L(b,"finish",function(){S.transition();$[a].r()});b.play()}$.SCREEN_SPLASH=H;$.SCREEN_SONGS=R;$.SCREEN_PARTS=Z;$.SCREEN_GAME=Y;function ld(){var a=md;setTimeout(function(){a()},1500)};var S={};function md(){S.showsongs()}
S=StateMachine.create({events:[{name:"start",from:"none",to:"splash"},{name:"showsongs",from:["splash","parts","game"],to:"songs"},{name:"showparts",from:["songs","game"],to:"parts"},{name:"showgame",from:["splash","parts","songs"],to:"game"}],callbacks:{onbeforestart:h(),onbeforeshowsongs:h(),onbeforeshowparts:h(),onbeforeshowgame:h(),onstart:function(){jd("SCREEN_SPLASH");ld()},onshowsongs:function(){jd("SCREEN_SONGS")},onshowparts:function(){jd("SCREEN_PARTS")},onshowgame:function(){jd("SCREEN_GAME")},
onleavesplash:function(){kd("SCREEN_SPLASH");return StateMachine.ASYNC},onleavesongs:function(){kd("SCREEN_SONGS");return StateMachine.ASYNC},onleaveparts:function(){kd("SCREEN_PARTS");return StateMachine.ASYNC},onleavegame:function(){kd("SCREEN_GAME");return StateMachine.ASYNC},onsplash:function(){console.log("ENTER   STATE: onsplash")},onsongs:function(){console.log("ENTER   STATE: onsongs")},onparts:function(){console.log("ENTER   STATE: onparts")},ongame:function(){console.log("ENTER   STATE: ongame")},
onchangestate:function(a,b,c){console.log("CHANGED STATE: "+b+" to "+c)}}});function nd(a,b,c,d,f){if(!(y||A&&B("525")))return!0;if(Oa&&f)return od(a);if(f&&!d||!c&&(17==b||18==b||Oa&&91==b))return!1;if(A&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(y&&d&&b==a)return!1;switch(a){case 13:return!(y&&y&&9<=Ya);case 27:return!A}return od(a)}
function od(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||A&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function pd(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function qd(a,b){X.call(this);a&&(this.Z&&this.detach(),this.k=a,this.Y=L(this.k,"keypress",this,b),this.ja=L(this.k,"keydown",this.Pa,b,this),this.Z=L(this.k,"keyup",this.Qa,b,this))}s(qd,X);l=qd.prototype;l.k=null;l.Y=null;l.ja=null;l.Z=null;l.i=-1;l.t=-1;l.ga=!1;
var rd={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},sd={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},td=y||A&&B("525"),ud=Oa&&z;l=qd.prototype;
l.Pa=function(a){A&&(17==this.i&&!a.ctrlKey||18==this.i&&!a.altKey||Oa&&91==this.i&&!a.metaKey)&&(this.t=this.i=-1);-1==this.i&&(a.ctrlKey&&17!=a.keyCode?this.i=17:a.altKey&&18!=a.keyCode?this.i=18:a.metaKey&&91!=a.keyCode&&(this.i=91));td&&!nd(a.keyCode,this.i,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.t=z?pd(a.keyCode):a.keyCode,ud&&(this.ga=a.altKey))};l.Qa=function(a){this.t=this.i=-1;this.ga=a.altKey};
l.handleEvent=function(a){var b=a.B,c,d,f=b.altKey;y&&"keypress"==a.type?(c=this.t,d=13!=c&&27!=c?b.keyCode:0):A&&"keypress"==a.type?(c=this.t,d=0<=b.charCode&&63232>b.charCode&&od(c)?b.charCode:0):x?(c=this.t,d=od(c)?b.keyCode:0):(c=b.keyCode||this.t,d=b.charCode||0,ud&&(f=this.ga),Oa&&63==d&&224==c&&(c=191));var e=c,g=b.keyIdentifier;c?63232<=c&&c in rd?e=rd[c]:25==c&&a.shiftKey&&(e=9):g&&g in sd&&(e=sd[g]);a=e==this.i;this.i=e;b=new vd(e,d,a,b);b.altKey=f;this.dispatchEvent(b)};
l.detach=function(){this.Y&&(M(this.Y),M(this.ja),M(this.Z),this.Z=this.ja=this.Y=null);this.k=null;this.t=this.i=-1};l.b=function(){qd.j.b.call(this);this.detach()};function vd(a,b,c,d){d&&Nb(this,d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}s(vd,Mb);var wd=new qd(document);L(wd,"key",function(a){71==a.keyCode?S.showgame():83==a.keyCode?S.showsongs():80==a.keyCode?S.showparts():76==a.keyCode&&S.showsplash()});console.log("GRID version 0.0.2");S.start();})();
