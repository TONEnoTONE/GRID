(function() {function h(){return function(){}}var l,m=this;
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function n(a){return"array"==aa(a)}function ba(a){var b=aa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ca(a){return"number"==typeof a}function da(a){return"function"==aa(a)}function ea(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var fa="closure_uid_"+(1E9*Math.random()>>>0),ga=0;function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ja(a,b,c){ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return ja.apply(null,arguments)}
function ka(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var la=Date.now||function(){return+new Date};function q(a,b){function c(){}c.prototype=b.prototype;a.l=b.prototype;a.prototype=new c}
function ma(a){if(!na.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(oa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(pa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(qa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ra,"&quot;"));return a}var oa=/&/g,pa=/</g,qa=/>/g,ra=/\"/g,na=/[&<>\"]/;function s(a){return Array.prototype.join.call(arguments,"")}function sa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function ta(a){var b=p(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,f){return b+f.toUpperCase()})}function ua(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");
function wa(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<va.length;e++)c=va[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}}
var xa,u=Array.prototype,ya=u.indexOf?function(a,b,c){return u.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},za=u.forEach?function(a,b,c){u.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=p(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Aa=u.filter?function(a,b,c){return u.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],e=0,g=
p(a)?a.split(""):a,k=0;k<d;k++)if(k in g){var x=g[k];b.call(c,x,k,a)&&(f[e++]=x)}return f},Ba=u.map?function(a,b,c){return u.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&(f[g]=b.call(c,e[g],g,a));return f};function Ca(a,b){var c=ya(a,b),d;(d=0<=c)&&u.splice.call(a,c,1);return d}function Da(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ea(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(n(d)||(f=ba(d))&&Object.prototype.hasOwnProperty.call(d,"callee"))a.push.apply(a,d);else if(f)for(var e=a.length,g=d.length,k=0;k<g;k++)a[e+k]=d[k];else a.push(d)}}function Fa(a,b,c){return 2>=arguments.length?u.slice.call(a,b):u.slice.call(a,b,c)}function v(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}l=v.prototype;l.ca=function(){return new v(this.x,this.y)};l.toString=function(){return"("+this.x+", "+this.y+")"};
l.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};l.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};l.translate=function(a,b){a instanceof v?(this.x+=a.x,this.y+=a.y):(this.x+=a,ca(b)&&(this.y+=b));return this};l.scale=function(a,b){var c=ca(b)?b:a;this.x*=a;this.y*=c;return this};var w,Ga,Ha,Ia;function Ja(){return m.navigator?m.navigator.userAgent:null}Ia=Ha=Ga=w=!1;var Ka;
if(Ka=Ja()){var La=m.navigator;w=0==Ka.lastIndexOf("Opera",0);Ga=!w&&(-1!=Ka.indexOf("MSIE")||-1!=Ka.indexOf("Trident"));Ha=!w&&-1!=Ka.indexOf("WebKit");Ia=!w&&!Ha&&!Ga&&"Gecko"==La.product}var y=w,z=Ga,A=Ia,B=Ha,Ma=m.navigator,Na=-1!=(Ma&&Ma.platform||"").indexOf("Mac");function Oa(){var a=m.document;return a?a.documentMode:void 0}var Pa;
a:{var Qa="",Ra;if(y&&m.opera)var Sa=m.opera.version,Qa="function"==typeof Sa?Sa():Sa;else if(A?Ra=/rv\:([^\);]+)(\)|;)/:z?Ra=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:B&&(Ra=/WebKit\/(\S+)/),Ra)var Ta=Ra.exec(Ja()),Qa=Ta?Ta[1]:"";if(z){var Ua=Oa();if(Ua>parseFloat(Qa)){Pa=String(Ua);break a}}Pa=Qa}var Va={};
function C(a){var b;if(!(b=Va[a])){b=0;for(var c=String(Pa).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||"",k=d[e]||"",x=/(\d*)(\D*)/g,L=/(\d*)(\D*)/g;do{var t=x.exec(g)||["","",""],r=L.exec(k)||["","",""];if(0==t[0].length&&0==r[0].length)break;b=((0==t[1].length?0:parseInt(t[1],10))<(0==r[1].length?0:parseInt(r[1],10))?-1:(0==t[1].length?0:parseInt(t[1],10))>(0==r[1].length?
0:parseInt(r[1],10))?1:0)||((0==t[2].length)<(0==r[2].length)?-1:(0==t[2].length)>(0==r[2].length)?1:0)||(t[2]<r[2]?-1:t[2]>r[2]?1:0)}while(0==b)}b=Va[a]=0<=b}return b}var Wa=m.document,D=Wa&&z?Oa()||("CSS1Compat"==Wa.compatMode?parseInt(Pa,10):5):void 0;function Xa(a,b){this.width=a;this.height=b}l=Xa.prototype;l.ca=function(){return new Xa(this.width,this.height)};l.toString=function(){return"("+this.width+" x "+this.height+")"};
l.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};l.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};l.scale=function(a,b){var c=ca(b)?b:a;this.width*=a;this.height*=c;return this};function Ya(){return B?"-webkit":A?"-moz":z?"-ms":y?"-o":null}function Za(a){a=a.className;return p(a)&&a.match(/\S+/g)||[]}
function E(a,b){for(var c=Za(a),d=Fa(arguments,1),f=c.length+d.length,e=c,g=0;g<d.length;g++)0<=ya(e,d[g])||e.push(d[g]);a.className=c.join(" ");return c.length==f}function $a(a,b){var c=Za(a),d=Fa(arguments,1),c=ab(c,d);a.className=c.join(" ")}function ab(a,b){return Aa(a,function(a){return!(0<=ya(b,a))})}var bb=!z||z&&9<=D;!A&&!z||z&&z&&9<=D||A&&C("1.9.1");z&&C("9");function cb(a){return a?new db(eb(a)):xa||(xa=new db)}
function fb(a,b){ua(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in gb?a.setAttribute(gb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var gb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function F(a,b,c){var d=arguments,f=document,e=d[0],g=d[1];if(!bb&&g&&(g.name||g.type)){e=["<",e];g.name&&e.push(' name="',ma(g.name),'"');if(g.type){e.push(' type="',ma(g.type),'"');var k={};wa(k,g);delete k.type;g=k}e.push(">");e=e.join("")}e=f.createElement(e);g&&(p(g)?e.className=g:n(g)?E.apply(null,[e].concat(g)):fb(e,g));2<d.length&&hb(f,e,d);return e}
function hb(a,b,c){function d(c){c&&b.appendChild(p(c)?a.createTextNode(c):c)}for(var f=2;f<c.length;f++){var e=c[f];if(!ba(e)||ea(e)&&0<e.nodeType)d(e);else{var g;a:{if(e&&"number"==typeof e.length){if(ea(e)){g="function"==typeof e.item||"string"==typeof e.item;break a}if(da(e)){g="function"==typeof e.item;break a}}g=!1}za(g?Da(e):e,d)}}}function ib(a){for(var b;b=a.firstChild;)a.removeChild(b)}function jb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function eb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function db(a){this.N=a||m.document||document}db.prototype.createElement=function(a){return this.N.createElement(a)};db.prototype.createTextNode=function(a){return this.N.createTextNode(String(a))};
function kb(a){var b=a.N;a=B||"CSS1Compat"!=b.compatMode?b.body:b.documentElement;b=b.parentWindow||b.defaultView;return z&&C("10")&&b.pageYOffset!=a.scrollTop?new v(a.scrollLeft,a.scrollTop):new v(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}db.prototype.appendChild=function(a,b){a.appendChild(b)};function G(a,b,c){p(b)?lb(a,c,b):ua(b,ka(lb,a))}function lb(a,b,c){(c=mb(a,c))&&(a.style[c]=b)}
function mb(a,b){var c=sa(b);if(void 0===a.style[c]){var d=(B?"Webkit":A?"Moz":z?"ms":y?"O":null)+ta(b);if(void 0!==a.style[d])return d}return c}function H(a,b){var c;a:{c=eb(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c[b]||c.getPropertyValue(b)||"";break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function nb(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}z&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function ob(a){if(z&&!(z&&8<=D))return a.offsetParent;var b=eb(a),c=H(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=H(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function pb(a,b,c){if(b instanceof Xa)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=qb(b);a.style.height=qb(c)}function qb(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function rb(a){var b=a.offsetWidth,c=a.offsetHeight,d=B&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=nb(a),new Xa(a.right-a.left,a.bottom-a.top)):new Xa(b,c)}function I(a,b){a.style.display=b?"":"none"}
var sb=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/,tb=!z||z&&9<=D,ub=z&&!C("9");!B||C("528");A&&C("1.9b")||z&&C("8")||y&&C("9.5")||B&&C("528");A&&!C("8")||z&&C("9");function J(){0!=vb&&(wb[this[fa]||(this[fa]=++ga)]=this)}var vb=0,wb={};J.prototype.na=!1;J.prototype.i=function(){if(!this.na&&(this.na=!0,this.c(),0!=vb)){var a=this[fa]||(this[fa]=++ga);delete wb[a]}};J.prototype.c=function(){if(this.va)for(;this.va.length;)this.va.shift()()};
function xb(a,b){this.type=a;this.currentTarget=this.target=b}l=xb.prototype;l.c=h();l.i=h();l.u=!1;l.defaultPrevented=!1;l.ya=!0;l.stopPropagation=function(){this.u=!0};l.preventDefault=function(){this.defaultPrevented=!0;this.ya=!1};function yb(a){yb[" "](a);return a}yb[" "]=h();function K(a,b){a&&zb(this,a,b)}q(K,xb);l=K.prototype;l.target=null;l.relatedTarget=null;l.offsetX=0;l.offsetY=0;l.clientX=0;l.clientY=0;l.screenX=0;l.screenY=0;l.button=0;l.keyCode=0;l.charCode=0;l.ctrlKey=!1;
l.altKey=!1;l.shiftKey=!1;l.metaKey=!1;l.k=null;
function zb(a,b,c){var d=a.type=b.type;xb.call(a,d);a.target=b.target||b.srcElement;a.currentTarget=c;if(c=b.relatedTarget){if(A){var f;a:{try{yb(c.nodeName);f=!0;break a}catch(e){}f=!1}f||(c=null)}}else"mouseover"==d?c=b.fromElement:"mouseout"==d&&(c=b.toElement);a.relatedTarget=c;a.offsetX=B||void 0!==b.offsetX?b.offsetX:b.layerX;a.offsetY=B||void 0!==b.offsetY?b.offsetY:b.layerY;a.clientX=void 0!==b.clientX?b.clientX:b.pageX;a.clientY=void 0!==b.clientY?b.clientY:b.pageY;a.screenX=b.screenX||0;
a.screenY=b.screenY||0;a.button=b.button;a.keyCode=b.keyCode||0;a.charCode=b.charCode||("keypress"==d?b.keyCode:0);a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.metaKey=b.metaKey;a.state=b.state;a.k=b;b.defaultPrevented&&a.preventDefault();delete a.u}l.stopPropagation=function(){K.l.stopPropagation.call(this);this.k.stopPropagation?this.k.stopPropagation():this.k.cancelBubble=!0};
l.preventDefault=function(){K.l.preventDefault.call(this);var a=this.k;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,ub)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};l.Ea=function(){return this.k};l.c=h();var M={a:null,v:function(){M.a=F("div",{id:"splash","class":"screen"},"splash");document.body.appendChild(M.a);M.r()},V:function(){I(M.a,!0)},r:function(){I(M.a,!1)}};M.v();var Ab;
function Bb(a,b){n(b)||(b=[b]);var c=Ba(b,function(a){return p(a)?a:a.xa+" "+a.duration+"s "+a.timing+" "+a.ma+"s"});G(a,"transition",c.join(","))}var Cb="closure_listenable_"+(1E6*Math.random()|0);function Db(a){try{return!(!a||!a[Cb])}catch(b){return!1}}var Eb=0;function Fb(a,b,c,d,f){this.listener=a;this.U=null;this.src=b;this.type=c;this.capture=!!d;this.O=f;this.key=++Eb;this.F=this.M=!1}function Gb(a){a.F=!0;a.listener=null;a.U=null;a.src=null;a.O=null}
function N(a){this.src=a;this.g={};this.K=0}N.prototype.add=function(a,b,c,d,f){var e=this.g[a];e||(e=this.g[a]=[],this.K++);var g=Hb(e,b,d,f);-1<g?(a=e[g],c||(a.M=!1)):(a=new Fb(b,this.src,a,!!d,f),a.M=c,e.push(a));return a};N.prototype.remove=function(a,b,c,d){if(!(a in this.g))return!1;var f=this.g[a];b=Hb(f,b,c,d);return-1<b?(Gb(f[b]),u.splice.call(f,b,1),0==f.length&&(delete this.g[a],this.K--),!0):!1};
function Ib(a,b){var c=b.type;if(!(c in a.g))return!1;var d=Ca(a.g[c],b);d&&(Gb(b),0==a.g[c].length&&(delete a.g[c],a.K--));return d}N.prototype.ia=function(a){var b=0,c;for(c in this.g)if(!a||c==a){for(var d=this.g[c],f=0;f<d.length;f++)++b,Gb(d[f]);delete this.g[c];this.K--}return b};N.prototype.G=function(a,b,c,d){a=this.g[a];var f=-1;a&&(f=Hb(a,b,c,d));return-1<f?a[f]:null};
function Hb(a,b,c,d){for(var f=0;f<a.length;++f){var e=a[f];if(!e.F&&e.listener==b&&e.capture==!!c&&e.O==d)return f}return-1}var Jb="closure_lm_"+(1E6*Math.random()|0),Kb={},Lb=0;
function O(a,b,c,d,f){if(n(b)){for(var e=0;e<b.length;e++)O(a,b[e],c,d,f);return null}c=Mb(c);if(Db(a))a=a.D(b,c,d,f);else{if(!b)throw Error("Invalid event type");var e=!!d,g=Nb(a);g||(a[Jb]=g=new N(a));c=g.add(b,c,!1,d,f);c.U||(d=Ob(),c.U=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b,d,e):a.attachEvent(b in Kb?Kb[b]:Kb[b]="on"+b,d),Lb++);a=c}return a}
function Ob(){var a=Pb,b=tb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Qb(a,b,c,d,f){if(n(b))for(var e=0;e<b.length;e++)Qb(a,b[e],c,d,f);else c=Mb(c),Db(a)?a.ka(b,c,d,f):a&&(a=Nb(a))&&(b=a.G(b,c,!!d,f))&&P(b)}
function P(a){if(ca(a)||!a||a.F)return!1;var b=a.src;if(Db(b))return Ib(b.q,a);var c=a.type,d=a.U;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(c in Kb?Kb[c]:Kb[c]="on"+c,d);Lb--;(c=Nb(b))?(Ib(c,a),0==c.K&&(c.src=null,b[Jb]=null)):Gb(a);return!0}function Rb(a,b,c,d){var f=1;if(a=Nb(a))if(b=a.g[b])for(b=Da(b),a=0;a<b.length;a++){var e=b[a];e&&e.capture==c&&!e.F&&(f&=!1!==Sb(e,d))}return Boolean(f)}
function Sb(a,b){var c=a.listener,d=a.O||a.src;a.M&&P(a);return c.call(d,b)}
function Pb(a,b){if(a.F)return!0;if(!tb){var c;if(!(c=b))a:{c=["window","event"];for(var d=m,f;f=c.shift();)if(null!=d[f])d=d[f];else{c=null;break a}c=d}f=c;c=new K(f,this);d=!0;if(!(0>f.keyCode||void 0!=f.returnValue)){a:{var e=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==f.returnValue)f.returnValue=!0}f=[];for(e=c.currentTarget;e;e=e.parentNode)f.push(e);for(var e=a.type,k=f.length-1;!c.u&&0<=k;k--)c.currentTarget=f[k],d&=Rb(f[k],e,!0,c);for(k=0;!c.u&&k<f.length;k++)c.currentTarget=
f[k],d&=Rb(f[k],e,!1,c)}return d}return Sb(a,new K(b,this))}function Nb(a){a=a[Jb];return a instanceof N?a:null}var Tb="__closure_events_fn_"+(1E9*Math.random()>>>0);function Mb(a){return da(a)?a:a[Tb]||(a[Tb]=function(b){return a.handleEvent(b)})}function Q(a){J.call(this);this.qa=a;this.T={}}q(Q,J);var Ub=[];l=Q.prototype;l.D=function(a,b,c,d,f){n(b)||(Ub[0]=b,b=Ub);for(var e=0;e<b.length;e++){var g=O(a,b[e],c||this,d||!1,f||this.qa||this);if(!g)break;this.T[g.key]=g}return this};
l.ka=function(a,b,c,d,f){if(n(b))for(var e=0;e<b.length;e++)this.ka(a,b[e],c,d,f);else f=f||this.qa||this,c=Mb(c||this),d=!!d,b=Db(a)?a.G(b,c,d,f):a?(a=Nb(a))?a.G(b,c,d,f):null:null,b&&(P(b),delete this.T[b.key]);return this};l.ia=function(){ua(this.T,P);this.T={}};l.c=function(){Q.l.c.call(this);this.ia()};l.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};
function Vb(a,b){this.b=null;this.ba=h();J.call(this);this.ba=b;this.b=F("div",{"class":"Button"});var c=F("div",{"class":"ButtonTextContainer"},a);this.la=new Q;this.la.D(this.b,"click",this.Ba,!1,this);this.b.appendChild(c)}q(Vb,J);Vb.prototype.Ba=function(){this.ba(this)};Vb.prototype.c=function(){ib(this.b);jb(this.b);this.b=null;this.ba=h();this.la.i();Vb.l.c.call(this)};
var Wb=[{name:"stage0",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},I:["red","green"]}]}];function Xb(a){switch(a){case "n":return 90;case "s":return 270;case "w":return 0;case "e":return 180}}function Yb(a,b){var c=new v(a.x-b.x,a.y-b.y);return 0===c.x&&0<c.y?"n":0===c.x&&0>c.y?"s":0>c.x&&0===c.y?"e":0<c.x&&0===c.y?"w":null}
var Zb=[{name:"stage0",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},I:["red","green"]},{name:"verse2",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},I:["red","green"]}]},{name:"stage1",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,
1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},I:["red","green"]}]},{name:"stage2",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},I:["red","green"]}]}],R={m:Zb,Xa:function(a){R.m=a?Wb:Zb},Sa:function(a,b,c){return{f:R.Ga(a,b,c),B:0===R.m[b].p[c].C[a.y][a.x]?!1:!0}},J:function(a,b,c){return 8<=
a.x||0>a.x?0:8<=a.y||0>a.y?0:R.m[b].p[c].C[a.y][a.x]},Ga:function(a,b,c){for(var d={n:!1,e:!1,s:!1,w:!1},f=R.J(a,b,c),e=[a.x,a.y],g=R.m[b].p[c],k=0;k<g.f.length;k++){var x=g.f[k][0],L=g.f[k][1];e[0]===x[0]&&e[1]===x[1]?d[Yb(x,L)]=!0:e[0]===L[0]&&e[1]===L[1]&&(d[Yb(L,x)]=!0)}R.P(f,R.J(new v(a.x+1,a.y),b,c))&&(d.e=!0);R.P(f,R.J(new v(a.x-1,a.y),b,c))&&(d.w=!0);R.P(f,R.J(new v(a.x,a.y-1),b,c))&&(d.n=!0);R.P(f,R.J(new v(a.x,a.y+1),b,c))&&(d.s=!0);return d},P:function(a,b){return 0===a&&1===b||0===b&&
1===a},Wa:function(a){return R.m[a].p.length},Da:function(a,b){return R.m[a].p[b].I}},S={m:R,a:null,W:null,A:[],v:function(){S.m=R.m;S.Ra=R.Ra;S.fa();S.r()},fa:function(){S.a=F("div",{id:"SongsScreen","class":"screen"});S.W=F("div",{id:"SongButtons"});S.Ka();document.body.appendChild(S.a);S.a.appendChild(S.W)},Ka:function(){for(var a=0;a<Zb.length;a++){var b=Zb[a],c=new Vb(b.name,S.Pa);S.A.push({button:c,data:b,index:a});S.W.appendChild(c.b)}},Va:function(){S.A=null;ib(S.W)},Pa:function(a){for(var b=
null,c=0;c<S.A.length;c++)if(S.A[c].button===a){b=S.A[c].index;break}0<=b?($b=b,T.showparts()):console.log("No song obj for the clicked songButton. W.T.F.?")},V:function(){I(S.a,!0)},r:function(){I(S.a,!1)}};S.v();var U={a:null,v:function(){U.a=F("div",{id:"GameScreen","class":"screen"});document.body.appendChild(U.a);U.r()},V:function(){I(U.a,!0)},r:function(){I(U.a,!1)}};U.v();function V(){J.call(this);this.q=new N(this);this.Aa=this}q(V,J);V.prototype[Cb]=!0;l=V.prototype;l.ga=null;
l.addEventListener=function(a,b,c,d){O(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){Qb(this,a,b,c,d)};
l.dispatchEvent=function(a){var b,c=this.ga;if(c)for(b=[];c;c=c.ga)b.push(c);var c=this.Aa,d=a.type||a;if(p(a))a=new xb(a,c);else if(a instanceof xb)a.target=a.target||c;else{var f=a;a=new xb(d,c);wa(a,f)}var f=!0,e;if(b)for(var g=b.length-1;!a.u&&0<=g;g--)e=a.currentTarget=b[g],f=ac(e,d,!0,a)&&f;a.u||(e=a.currentTarget=c,f=ac(e,d,!0,a)&&f,a.u||(f=ac(e,d,!1,a)&&f));if(b)for(g=0;!a.u&&g<b.length;g++)e=a.currentTarget=b[g],f=ac(e,d,!1,a)&&f;return f};
l.c=function(){V.l.c.call(this);this.q&&this.q.ia(void 0);this.ga=null};l.D=function(a,b,c,d){return this.q.add(a,b,!1,c,d)};l.ka=function(a,b,c,d){return this.q.remove(a,b,c,d)};function ac(a,b,c,d){b=a.q.g[b];if(!b)return!0;b=Da(b);for(var f=!0,e=0;e<b.length;++e){var g=b[e];if(g&&!g.F&&g.capture==c){var k=g.listener,x=g.O||g.src;g.M&&Ib(a.q,g);f=!1!==k.call(x,d)&&f}}return f&&!1!=d.ya}l.G=function(a,b,c,d){return this.q.G(a,b,c,d)};function bc(){V.call(this);this.X=cc;this.startTime=null}
q(bc,V);var cc=0;function dc(a,b,c){if(da(a))c&&(a=ja(a,c));else if(a&&"function"==typeof a.handleEvent)a=ja(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:m.setTimeout(a,b||0)}function ec(a,b,c,d,f){bc.call(this);this.j=a;this.Ca=b;this.Ja=c;this.oa=d;this.Ta=n(f)?f:[f]}q(ec,bc);l=ec.prototype;
l.play=function(){if(1==this.X)return!1;this.dispatchEvent("begin");this.dispatchEvent("play");this.startTime=la();this.X=1;if(void 0===Ab)if(z)Ab=C("10.0");else{var a=document.createElement("div"),b=Ya();a.innerHTML='<div style="'+(b?b+"-transition:opacity 1s linear;":"")+'transition:opacity 1s linear;">';a=a.firstChild;b=a.style[sa("transition")];Ab=""!=("undefined"!==typeof b?b:a.style[mb(a,"transition")]||"")}if(Ab)return G(this.j,this.Ja),this.za=dc(this.Qa,void 0,this),!0;this.ja(!1);return!1};
l.Qa=function(){Bb(this.j,this.Ta);G(this.j,this.oa);this.za=dc(ja(this.ja,this,!1),1E3*this.Ca)};l.stop=function(){1==this.X&&this.ja(!0)};l.ja=function(a){G(this.j,"transition","");m.clearTimeout(this.za);G(this.j,this.oa);la();this.X=cc;a?this.dispatchEvent("stop"):this.dispatchEvent("finish");this.dispatchEvent("end")};l.c=function(){this.stop();ec.l.c.call(this)};
var $b=-1,W={m:R,a:null,H:null,ha:[],v:function(){W.H=F("div",{id:"PartsButtons"});W.fa();W.r()},fa:function(){W.a=F("div",{id:"PartsScreen","class":"screen"});W.H=F("div",{id:"PartsButtons"});W.ra();document.body.appendChild(W.a);W.a.appendChild(W.H)},ra:function(){var a=$b;if(0<=a)for(var a=Zb[a].p,b=0;b<a.length;b++){var c=a[b],d=new Vb(c.name,W.Oa);W.ha.push({button:d,data:c,index:b});W.H.appendChild(d.b)}},Ua:function(){W.A=null;ib(W.H)},Oa:function(a){for(var b=null,c=0;c<W.A.length;c++)if(W.ha[c].button===
a){b=W.ha[c].index;break}b?($b=b,T.showgame()):console.log("No song obj for the clicked partButton. W.T.F.?")},V:function(){W.ra();I(W.a,!0)},r:function(){I(W.a,!1)}};W.v();var X={};function fc(a){var b=new ec(X[a].a,0.5,{opacity:0},{opacity:1},{xa:"opacity",duration:0.5,timing:"ease-in",ma:0});O(b,"finish",h());X[a].V();b.play()}
function gc(a){var b=new ec(X[a].a,0.5,{opacity:1},{opacity:0},{xa:"opacity",duration:0.5,timing:"ease-in",ma:0});O(b,"finish",function(){T.transition();X[a].r()});b.play()}X.SCREEN_SPLASH=M;X.SCREEN_SONGS=S;X.SCREEN_PARTS=W;X.SCREEN_GAME=U;function hc(){var a=ic;setTimeout(function(){a()},200)}var T={};function ic(){T.showsongs()}
T=StateMachine.create({events:[{name:"start",from:"none",to:"splash"},{name:"showsongs",from:["splash","parts","game"],to:"songs"},{name:"showparts",from:["songs","game"],to:"parts"},{name:"showgame",from:["splash","parts","songs"],to:"game"}],callbacks:{onbeforestart:h(),onbeforeshowsongs:h(),onbeforeshowparts:h(),onbeforeshowgame:h(),onstart:function(){fc("SCREEN_SPLASH");hc()},onshowsongs:function(){fc("SCREEN_SONGS")},onshowparts:function(){fc("SCREEN_PARTS")},onshowgame:function(){fc("SCREEN_GAME")},
onleavesplash:function(){gc("SCREEN_SPLASH");return StateMachine.ASYNC},onleavesongs:function(){gc("SCREEN_SONGS");return StateMachine.ASYNC},onleaveparts:function(){gc("SCREEN_PARTS");return StateMachine.ASYNC},onleavegame:function(){gc("SCREEN_GAME");return StateMachine.ASYNC},onsplash:function(){console.log("ENTER   STATE: onsplash")},onsongs:function(){console.log("ENTER   STATE: onsongs")},onparts:function(){console.log("ENTER   STATE: onparts")},ongame:function(){console.log("ENTER   STATE: ongame")},
onchangestate:function(a,b,c){console.log("CHANGED STATE: "+b+" to "+c)}}});function jc(a){this.position=a;this.f={};this.B=!1}jc.prototype.reset=function(){this.f={};this.B=!1};var kc=F("div",{id:"BoardView"}),lc=F("canvas",{id:"TileCanvas"}),Y=null;
function mc(){var a=Y;a.save();a.translate(35,35);a.strokeStyle="#999";a.lineWidth=1;for(var b=0;9>b;b++)a.beginPath(),a.moveTo(0,70*b),a.lineTo(560,70*b),a.stroke();for(b=0;9>b;b++)a.beginPath(),a.moveTo(70*b,0),a.lineTo(70*b,560),a.stroke();a.restore()}function nc(a,b){var c=new v(a,b);c.translate(-35,-35);c.scale(1/70);return c.floor()}kc.appendChild(lc);Y=lc.getContext("2d");pb(kc,630,630);pb(lc,630,630);Y.canvas.width=630;Y.canvas.height=630;U.a.appendChild(kc);
O(kc,"mousedown",function(a){a.stopPropagation();a=nc(a.offsetX,a.offsetY);if(null!==oc){var b=pc(a)?qc[a.y][a.x]:null;b&&b.B&&null===rc(a)?null!==oc&&(b=new Z(oc),b.setPosition(a),0<=ya(sc,b)||sc.push(b),tc()):tc()}});O(kc,"mouseup",function(a){nc(a.offsetX,a.offsetY)});var qc=Array(8);function pc(a){var b=a.x;a=a.y;return 0<=b&&8>b&&0<=a&&8>a}function uc(a){for(var b=0;8>b;b++)for(var c=0;8>c;c++){var d=new v(b,c);a(pc(d)?qc[d.y][d.x]:null,d)}}
function vc(){Y.clearRect(0,0,lc.width,lc.height);uc(function(a){a.reset()})}
function wc(){mc();uc(function(a){Y.save();Y.translate(35,35);var b=Y;if(a.B){var c=a.position.ca().scale(70);a.f.s&&(b.beginPath(),b.lineWidth=4,b.strokeStyle="#fff",b.moveTo(c.x+4,c.y+70),b.lineTo(c.x+70-4,c.y+70),b.stroke());a.f.n&&(b.beginPath(),b.lineWidth=4,b.strokeStyle="#fff",b.moveTo(c.x+4,c.y),b.lineTo(c.x+70-4,c.y),b.stroke());a.f.w&&(b.beginPath(),b.lineWidth=4,b.strokeStyle="#fff",b.moveTo(c.x,c.y+4),b.lineTo(c.x,c.y+70-4),b.stroke());a.f.e&&(b.beginPath(),b.lineWidth=4,b.strokeStyle=
"#fff",b.moveTo(c.x+70,c.y+4),b.lineTo(c.x+70,c.y+70-4),b.stroke())}Y.restore()})}for(var xc=0;8>xc;xc++)qc[xc]=Array(8);for(var yc=0;8>yc;yc++)for(var zc=0;8>zc;zc++)qc[zc][yc]=new jc(new v(yc,zc));var oc=null,$=[],Ac=F("div",{id:"PieceSelection"});function Bc(){for(var a=0;a<$.length;a++)$[a].i();$=[]}function Cc(a){oc=a;for(var b=0;b<$.length;b++){var c=$[b];c.type===a?Dc(c.view,!0):Dc(c.view,!1)}}function tc(){for(var a=0;a<$.length;a++)Dc($[a].view,!1);oc=null}U.a.appendChild(Ac);
function Ec(a){J.call(this);this.d=a;this.b=F("div",{"class":"PieceView"});this.$=F("canvas",{id:"PieceViewCanvas"});this.o=F("div",{id:"MouseLayer"});this.b.appendChild(this.o);this.b.appendChild(this.$);this.context=this.$.getContext("2d");E(this.b,this.d.type);this.sa=new Q;this.sa.D(this.o,["touchstart","mousedown"],this.La,!1,this);this.ua=new Q;this.ua.D(this.o,["touchend","mouseup","touchcancel","mouseout"],this.Na,!1,this);this.ta=new Q;this.ta.D(this.o,["touchmove","mousemove"],this.Ma,!1,
this);this.selected=this.da=!1;this.pa=!0;this.L=0;this.d.selection?Ac.appendChild(this.b):(this.selected=!0,E(this.o,"expanded"));this.size();this.context.moveTo(47.6,11.2);this.context.lineTo(11.2,35);this.context.lineTo(47.6,58.8);this.context.strokeStyle=Fc(this.d.type);this.context.lineWidth=11.2;this.context.lineCap="round";this.context.lineJoin="round";this.context.stroke()}q(Ec,J);l=Ec.prototype;l.c=function(){this.sa.i();this.ua.i();this.ta.i();ib(this.b);jb(this.b);this.d=this.b=null;Ec.l.c.call(this)};
l.La=function(a){a.preventDefault();a.stopPropagation();this.selected=!0;this.d.selection?Cc(this.d.type):E(this.o,"expanded")};function Dc(a,b){b?E(a.b,"selected"):$a(a.b,"selected")}l.Na=function(a){a.preventDefault();a.stopPropagation();!this.selected||this.da||this.d.selection||this.pa||(Cc(this.d.type),a=this.d,Ca(sc,a)&&a.i());this.pa=this.da=this.selected=!1;$a(this.o,"expanded")};
l.Ma=function(a){a.preventDefault();a.stopPropagation();this.da=!0;if(this.selected&&!this.d.selection){var b=a.type;"touchstart"==b||"touchmove"==b?zb(a,a.k.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||zb(a,a.k.changedTouches[0],a.currentTarget);var c=this.o;if("none"!=H(c,"display"))b=rb(c);else{var b=c.style,d=b.display,f=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";c=rb(c);b.display=d;b.position=e;b.visibility=f;b=c}var g;d=this.o;
if(1==d.nodeType){var k;if(d.getBoundingClientRect)k=nb(d),k=new v(k.left,k.top);else{f=kb(cb(d));var c=eb(d),x=H(d,"position"),L=A&&c.getBoxObjectFor&&!d.getBoundingClientRect&&"absolute"==x&&(k=c.getBoxObjectFor(d))&&(0>k.screenX||0>k.screenY),e=new v(0,0),t;k=c?eb(c):document;(t=!z)||(t=z&&9<=D)||(t="CSS1Compat"==cb(k).N.compatMode);t=t?k.documentElement:k.body;if(d!=t)if(d.getBoundingClientRect)k=nb(d),c=kb(cb(c)),e.x=k.left+c.x,e.y=k.top+c.y;else if(c.getBoxObjectFor&&!L)k=c.getBoxObjectFor(d),
c=c.getBoxObjectFor(t),e.x=k.screenX-c.screenX,e.y=k.screenY-c.screenY;else{k=d;do{e.x+=k.offsetLeft;e.y+=k.offsetTop;k!=d&&(e.x+=k.clientLeft||0,e.y+=k.clientTop||0);if(B&&"fixed"==H(k,"position")){e.x+=c.body.scrollLeft;e.y+=c.body.scrollTop;break}k=k.offsetParent}while(k&&k!=d);if(y||B&&"absolute"==x)e.y-=c.body.offsetTop;for(k=d;(k=ob(k))&&k!=c.body&&k!=t;)e.x-=k.scrollLeft,y&&"TR"==k.tagName||(e.y-=k.scrollTop)}k=new v(e.x-f.x,e.y-f.y)}if(A&&!C(12)){z?g="-ms-transform":B?g="-webkit-transform":
y?g="-o-transform":A&&(g="-moz-transform");var r;g&&(r=H(d,g));r||(r=H(d,"transform"));g=r?(g=r.match(sb))?new v(parseFloat(g[1]),parseFloat(g[2])):new v(0,0):new v(0,0);g=new v(k.x+g.x,k.y+g.y)}else g=k}else g=da(d.Ea),r=d,d.targetTouches?r=d.targetTouches[0]:g&&d.k.targetTouches&&(r=d.k.targetTouches[0]),g=new v(r.clientX,r.clientY);a=new v(a.clientX-g.x,a.clientY-g.y);a.translate(-b.width/2,-b.height/2);a=nc(a.x,a.y);a=Yb(new v(-1,-1),a);null!==a&&(b=this.d,b.direction!==a&&(b.direction=a,Gc(b.view)))}};
l.size=function(){pb(this.$,70,70);this.context.canvas.height=70;this.context.canvas.width=70};function Gc(a){var b=a.d;if(!b.selection){b.wa?kc.appendChild(a.b):jb(a.b);var c=b.direction,b=b.position.ca().scale(70).translate(35,35),b=s("translate( ",b.x,"px , ",b.y,"px)"),c=Xb(c)-a.L%360;-180>c?c+=360:180<c&&(c-=360);a.L+=c;c=s(b,s("rotate( ",a.L,"deg) "));G(a.b,"transition","");G(a.b,{transform:c,transition:s(Ya(),"-transform 50ms")})}}
function Hc(a){var b=[];a=a||document.styleSheets;if(a.imports&&a.imports.length)for(var c=0,d=a.imports.length;c<d;c++)Ea(b,Hc(a.imports[c]));else if(a.length)for(c=0,d=a.length;c<d;c++)Ea(b,Hc(a[c]));else{var f,c=null;try{c=a.rules||a.cssRules}catch(e){if(15==e.code)throw e.styleSheet=a,e;}if((f=c)&&f.length)for(var c=0,d=f.length,g;c<d;c++)g=f[c],g.styleSheet&&Ea(b,Hc(g.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled||b.push(a);return b}function Ic(a){J.call(this);this.d=a}q(Ic,J);
function Jc(a,b){for(var c=b.length,d=0;d<c;d++)var f=b[d],e=100*(d/(c-1)),f=s(e.toFixed(0),"% {",f.view.Fa(),"}");for(var g=Ya()+"-",k=s("@",g,"keyframes ",a.d.uid,"_animation { \n"),d=0;d<c;d++)f=b[d],e=100*(d/(c-1)),f=s(e.toFixed(2),"% {",f.view.Fa(g),"} \n"),k=s(k,f);k=s(k,"} \n");c=s(".animate_",a.d.uid," { ",g,"animation: ",a.d.uid,"_animation ","5s infinite linear; ");c=s(c,"animation: ",a.d.uid,"_animation ","5s infinite linear; }\n");k=s(c," \n ",k,"\n");c=document;d=c.createElement("style");
d.type="text/css";c.getElementsByTagName("head")[0].appendChild(d);d.styleSheet?d.styleSheet.cssText=k:d.appendChild(c.createTextNode(k));fb(d,{id:"nononono"});return s("animate_",a.d.uid)}Ic.prototype.c=function(){this.d=null;Ic.l.c.call(this)};a:for(var Kc=Hc(),Lc=0;Lc<Kc.length;Lc++){var Mc=Kc[Lc].href;if("animations.css"===(Mc?/([^\/\?]+)[^\/]*$/.exec(Mc)[1]:null))break a}
function Nc(){J.call(this);this.Y=[];this.view=new Ic(this);this.uid=Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}q(Nc,J);Nc.prototype.c=function(){for(var a=0;a<this.Y.length;a++)this.Y[a].i();this.Y=null;Nc.l.c.call(this)};function Z(a,b){J.call(this);this.type=a||Oc;this.direction="w";this.position=new v(-1,-1);this.Z=new Nc;this.selection=b||!1;this.wa=!1;this.view=new Ec(this)}q(Z,J);
Z.prototype.setPosition=function(a){a==this.position||a&&this.position&&a.x==this.position.x&&a.y==this.position.y||(this.wa=!0,this.position=a,Gc(this.view))};Z.prototype.c=function(){this.Z.i();this.Z=null;this.view.i();this.view=null;Z.l.c.call(this)};Z.prototype.play=function(){var a=Jc(this.Z.view,this.Z.Y);E(this.view.b,a);setTimeout(h(),1E3)};var Oc="red";
function Fc(a){switch(a){case Oc:return"#d4463f";case "green":return"#53CC66";case "blue":return"#0092D2";case "yellow":return"#F58107";case "purple":return"#CA60CA"}}var sc=[];function Pc(a){for(var b=0,c=sc.length;b<c;b++)a(sc[b],b)}function rc(a){var b=null;Pc(function(c){(c.position==a||c.position&&a&&c.position.x==a.x&&c.position.y==a.y)&&(b=c)});return b}function Qc(){Pc(function(a){a.i()});sc=[];Bc()}var Rc=0;Qc();Rc=Rc||0;
(function(a){vc();uc(function(b,c){var d=R.Sa(c,0,a);b.f=d.f;b.B=d.B});wc()})(Rc);var Sc=Rc;Qc();for(var Tc=R.Da(0,Sc),Uc=0;Uc<Tc.length;Uc++){var Vc=new Z(Tc[Uc],!0);$.push(Vc)}
function Wc(a,b,c,d,f){if(!(z||B&&C("525")))return!0;if(Na&&f)return Xc(a);if(f&&!d||!c&&(17==b||18==b||Na&&91==b))return!1;if(B&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(z&&d&&b==a)return!1;switch(a){case 13:return!(z&&z&&9<=D);case 27:return!B}return Xc(a)}
function Xc(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||B&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function Yc(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}}
function Zc(a,b){V.call(this);a&&(this.S&&this.detach(),this.j=a,this.R=O(this.j,"keypress",this,b),this.ea=O(this.j,"keydown",this.Ha,b,this),this.S=O(this.j,"keyup",this.Ia,b,this))}q(Zc,V);l=Zc.prototype;l.j=null;l.R=null;l.ea=null;l.S=null;l.h=-1;l.t=-1;l.aa=!1;
var $c={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},ad={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},bd=z||B&&C("525"),cd=Na&&A;l=Zc.prototype;
l.Ha=function(a){B&&(17==this.h&&!a.ctrlKey||18==this.h&&!a.altKey||Na&&91==this.h&&!a.metaKey)&&(this.t=this.h=-1);-1==this.h&&(a.ctrlKey&&17!=a.keyCode?this.h=17:a.altKey&&18!=a.keyCode?this.h=18:a.metaKey&&91!=a.keyCode&&(this.h=91));bd&&!Wc(a.keyCode,this.h,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.t=A?Yc(a.keyCode):a.keyCode,cd&&(this.aa=a.altKey))};l.Ia=function(a){this.t=this.h=-1;this.aa=a.altKey};
l.handleEvent=function(a){var b=a.k,c,d,f=b.altKey;z&&"keypress"==a.type?(c=this.t,d=13!=c&&27!=c?b.keyCode:0):B&&"keypress"==a.type?(c=this.t,d=0<=b.charCode&&63232>b.charCode&&Xc(c)?b.charCode:0):y?(c=this.t,d=Xc(c)?b.keyCode:0):(c=b.keyCode||this.t,d=b.charCode||0,cd&&(f=this.aa),Na&&63==d&&224==c&&(c=191));var e=c,g=b.keyIdentifier;c?63232<=c&&c in $c?e=$c[c]:25==c&&a.shiftKey&&(e=9):g&&g in ad&&(e=ad[g]);a=e==this.h;this.h=e;b=new dd(e,d,a,b);b.altKey=f;this.dispatchEvent(b)};
l.detach=function(){this.R&&(P(this.R),P(this.ea),P(this.S),this.S=this.ea=this.R=null);this.j=null;this.t=this.h=-1};l.c=function(){Zc.l.c.call(this);this.detach()};function dd(a,b,c,d){d&&zb(this,d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}q(dd,K);var ed=new Zc(document);
O(ed,"key",function(a){71==a.keyCode?(console.log("Going to GameScreen"),T.showgame()):83==a.keyCode?(console.log("Going to SongsScreen"),T.showsongs()):80==a.keyCode&&(console.log("Going to PartsScreen"),T.showparts())});console.log("GRID version 0.0.2");T.start();})();
