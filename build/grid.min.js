function f(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}f.prototype.toString=function(){return"("+this.x+", "+this.y+")"};function h(a){this.position=a;this.a={};this.c=!1}h.prototype.reset=function(){this.a={};this.c=!1};var k=[{name:"stage0",b:[{name:"verse0",d:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],a:[],pattern:{},f:[]}]}];
function l(a,b){return 8<=a.x||0>a.x?0:8<=a.y||0>a.y?0:k[0].b[b].d[a.y][a.x]}function q(a,b){return a.x===b.x&&a.y===b.y+1?"n":a.x===b.x&&a.y+1===b.y?"s":a.x===b.x+1&&a.y===b.y?"w":a.x+1===b.x&&a.y===b.y?"e":!1}var r=Array(8);function s(a){for(var b=0;8>b;b++)for(var c=0;8>c;c++){var d=new f(b,c),e=d.x,g=d.y;a(0<=e&&8>e&&0<=g&&8>g?r[d.y][d.x]:null,d)}}function t(){s(function(a){a.reset()})}for(var v=0;8>v;v++)r[v]=Array(8);for(var w=0;8>w;w++)for(var x=0;8>x;x++)r[x][w]=new h(new f(w,x));
var y=0,y=y||0;(function(a){t();s(function(b,c){for(var d={n:!1,e:!1,s:!1,w:!1},e=l(c,a),g=[c.x,c.y],u=k[0].b[a],m=0;m<u.a.length;m++){var n=u.a[m][0],p=u.a[m][1];g[0]===n[0]&&g[1]===n[1]?d[q(n,p)]=!0:g[0]===p[0]&&g[1]===p[1]&&(d[q(p,n)]=!0)}1===e+l(new f(c.x+1,c.y),a)&&(d.e=!0);1===e+l(new f(c.x-1,c.y),a)&&(d.w=!0);1===e+l(new f(c.x,c.y-1),a)&&(d.n=!0);1===e+l(new f(c.x,c.y+1),a)&&(d.s=!0);e=0===k[0].b[a].d[c.y][c.x]?!1:!0;b.a=d;b.c=e})})(y);function z(){requestAnimationFrame(z)}console.log("GRID version 0.0.1");
z();
