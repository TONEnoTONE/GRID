(function() {function h(){return function(){}}var l,m=this;
function aa(a){var b=typeof a;if("object"==b)if(a){if(a instanceof Array)return"array";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if("[object Window]"==c)return"object";if("[object Array]"==c||"number"==typeof a.length&&"undefined"!=typeof a.splice&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("splice"))return"array";if("[object Function]"==c||"undefined"!=typeof a.call&&"undefined"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable("call"))return"function"}else return"null";
else if("function"==b&&"undefined"==typeof a.call)return"object";return b}function n(a){return"array"==aa(a)}function ba(a){var b=aa(a);return"array"==b||"object"==b&&"number"==typeof a.length}function p(a){return"string"==typeof a}function ca(a){return"number"==typeof a}function da(a){return"function"==aa(a)}function ea(a){var b=typeof a;return"object"==b&&null!=a||"function"==b}var fa="closure_uid_"+(1E9*Math.random()>>>0),ga=0;function ha(a,b,c){return a.call.apply(a.bind,arguments)}
function ia(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}}function ja(a,b,c){ja=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ha:ia;return ja.apply(null,arguments)}
function ka(a,b){var c=Array.prototype.slice.call(arguments,1);return function(){var b=c.slice();b.push.apply(b,arguments);return a.apply(this,b)}}var la=Date.now||function(){return+new Date};function r(a,b){function c(){}c.prototype=b.prototype;a.l=b.prototype;a.prototype=new c};function ma(a){if(!na.test(a))return a;-1!=a.indexOf("&")&&(a=a.replace(oa,"&amp;"));-1!=a.indexOf("<")&&(a=a.replace(pa,"&lt;"));-1!=a.indexOf(">")&&(a=a.replace(qa,"&gt;"));-1!=a.indexOf('"')&&(a=a.replace(ra,"&quot;"));return a}var oa=/&/g,pa=/</g,qa=/>/g,ra=/\"/g,na=/[&<>\"]/;function s(a){return Array.prototype.join.call(arguments,"")}function sa(a){return String(a).replace(/\-([a-z])/g,function(a,c){return c.toUpperCase()})}
function ta(a){var b=p(void 0)?"undefined".replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08"):"\\s";return a.replace(RegExp("(^"+(b?"|["+b+"]+":"")+")([a-z])","g"),function(a,b,f){return b+f.toUpperCase()})};function ua(a,b){for(var c in a)b.call(void 0,a[c],c,a)}var va="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wa(a,b){for(var c,d,f=1;f<arguments.length;f++){d=arguments[f];for(c in d)a[c]=d[c];for(var e=0;e<va.length;e++)c=va[e],Object.prototype.hasOwnProperty.call(d,c)&&(a[c]=d[c])}};var xa;var u=Array.prototype,ya=u.indexOf?function(a,b,c){return u.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(p(a))return p(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},za=u.forEach?function(a,b,c){u.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=p(a)?a.split(""):a,e=0;e<d;e++)e in f&&b.call(c,f[e],e,a)},Aa=u.filter?function(a,b,c){return u.filter.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=[],e=0,g=p(a)?
a.split(""):a,k=0;k<d;k++)if(k in g){var x=g[k];b.call(c,x,k,a)&&(f[e++]=x)}return f},Ba=u.map?function(a,b,c){return u.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,f=Array(d),e=p(a)?a.split(""):a,g=0;g<d;g++)g in e&&(f[g]=b.call(c,e[g],g,a));return f};function Ca(a,b){var c=ya(a,b),d;(d=0<=c)&&u.splice.call(a,c,1);return d}function Da(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]}
function Ea(a,b){for(var c=1;c<arguments.length;c++){var d=arguments[c],f;if(n(d)||(f=ba(d))&&Object.prototype.hasOwnProperty.call(d,"callee"))a.push.apply(a,d);else if(f)for(var e=a.length,g=d.length,k=0;k<g;k++)a[e+k]=d[k];else a.push(d)}}function Fa(a,b,c){return 2>=arguments.length?u.slice.call(a,b):u.slice.call(a,b,c)};function v(a,b){this.x=void 0!==a?a:0;this.y=void 0!==b?b:0}l=v.prototype;l.ca=function(){return new v(this.x,this.y)};l.toString=function(){return"("+this.x+", "+this.y+")"};l.floor=function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this};l.round=function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};l.translate=function(a,b){a instanceof v?(this.x+=a.x,this.y+=a.y):(this.x+=a,ca(b)&&(this.y+=b));return this};
l.scale=function(a,b){var c=ca(b)?b:a;this.x*=a;this.y*=c;return this};var w,Ga,Ha,Ia;function Ja(){return m.navigator?m.navigator.userAgent:null}Ia=Ha=Ga=w=!1;var Ka;if(Ka=Ja()){var La=m.navigator;w=0==Ka.lastIndexOf("Opera",0);Ga=!w&&(-1!=Ka.indexOf("MSIE")||-1!=Ka.indexOf("Trident"));Ha=!w&&-1!=Ka.indexOf("WebKit");Ia=!w&&!Ha&&!Ga&&"Gecko"==La.product}var y=w,z=Ga,A=Ia,B=Ha,Ma=m.navigator,Na=-1!=(Ma&&Ma.platform||"").indexOf("Mac");function Oa(){var a=m.document;return a?a.documentMode:void 0}var Pa;
a:{var Qa="",Ra;if(y&&m.opera)var Sa=m.opera.version,Qa="function"==typeof Sa?Sa():Sa;else if(A?Ra=/rv\:([^\);]+)(\)|;)/:z?Ra=/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/:B&&(Ra=/WebKit\/(\S+)/),Ra)var Ta=Ra.exec(Ja()),Qa=Ta?Ta[1]:"";if(z){var Ua=Oa();if(Ua>parseFloat(Qa)){Pa=String(Ua);break a}}Pa=Qa}var Va={};
function C(a){var b;if(!(b=Va[a])){b=0;for(var c=String(Pa).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),d=String(a).replace(/^[\s\xa0]+|[\s\xa0]+$/g,"").split("."),f=Math.max(c.length,d.length),e=0;0==b&&e<f;e++){var g=c[e]||"",k=d[e]||"",x=/(\d*)(\D*)/g,K=/(\d*)(\D*)/g;do{var t=x.exec(g)||["","",""],q=K.exec(k)||["","",""];if(0==t[0].length&&0==q[0].length)break;b=((0==t[1].length?0:parseInt(t[1],10))<(0==q[1].length?0:parseInt(q[1],10))?-1:(0==t[1].length?0:parseInt(t[1],10))>(0==q[1].length?
0:parseInt(q[1],10))?1:0)||((0==t[2].length)<(0==q[2].length)?-1:(0==t[2].length)>(0==q[2].length)?1:0)||(t[2]<q[2]?-1:t[2]>q[2]?1:0)}while(0==b)}b=Va[a]=0<=b}return b}var Wa=m.document,D=Wa&&z?Oa()||("CSS1Compat"==Wa.compatMode?parseInt(Pa,10):5):void 0;function Xa(a,b){this.width=a;this.height=b}l=Xa.prototype;l.ca=function(){return new Xa(this.width,this.height)};l.toString=function(){return"("+this.width+" x "+this.height+")"};l.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};l.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};l.scale=function(a,b){var c=ca(b)?b:a;this.width*=a;this.height*=c;return this};function Ya(){return B?"-webkit":A?"-moz":z?"-ms":y?"-o":null};function Za(a){a=a.className;return p(a)&&a.match(/\S+/g)||[]}function E(a,b){for(var c=Za(a),d=Fa(arguments,1),f=c.length+d.length,e=c,g=0;g<d.length;g++)0<=ya(e,d[g])||e.push(d[g]);a.className=c.join(" ");return c.length==f}function $a(a,b){var c=Za(a),d=Fa(arguments,1),c=ab(c,d);a.className=c.join(" ")}function ab(a,b){return Aa(a,function(a){return!(0<=ya(b,a))})};var bb=!z||z&&9<=D;!A&&!z||z&&z&&9<=D||A&&C("1.9.1");z&&C("9");function cb(a){return a?new db(eb(a)):xa||(xa=new db)}function fb(a,b){ua(b,function(b,d){"style"==d?a.style.cssText=b:"class"==d?a.className=b:"for"==d?a.htmlFor=b:d in gb?a.setAttribute(gb[d],b):0==d.lastIndexOf("aria-",0)||0==d.lastIndexOf("data-",0)?a.setAttribute(d,b):a[d]=b})}var gb={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};
function F(a,b,c){var d=arguments,f=document,e=d[0],g=d[1];if(!bb&&g&&(g.name||g.type)){e=["<",e];g.name&&e.push(' name="',ma(g.name),'"');if(g.type){e.push(' type="',ma(g.type),'"');var k={};wa(k,g);delete k.type;g=k}e.push(">");e=e.join("")}e=f.createElement(e);g&&(p(g)?e.className=g:n(g)?E.apply(null,[e].concat(g)):fb(e,g));2<d.length&&hb(f,e,d);return e}
function hb(a,b,c){function d(c){c&&b.appendChild(p(c)?a.createTextNode(c):c)}for(var f=2;f<c.length;f++){var e=c[f];if(!ba(e)||ea(e)&&0<e.nodeType)d(e);else{var g;a:{if(e&&"number"==typeof e.length){if(ea(e)){g="function"==typeof e.item||"string"==typeof e.item;break a}if(da(e)){g="function"==typeof e.item;break a}}g=!1}za(g?Da(e):e,d)}}}function ib(a){for(var b;b=a.firstChild;)a.removeChild(b)}function jb(a){a&&a.parentNode&&a.parentNode.removeChild(a)}
function eb(a){return 9==a.nodeType?a:a.ownerDocument||a.document}function db(a){this.N=a||m.document||document}db.prototype.createElement=function(a){return this.N.createElement(a)};db.prototype.createTextNode=function(a){return this.N.createTextNode(String(a))};
function kb(a){var b=a.N;a=B||"CSS1Compat"!=b.compatMode?b.body:b.documentElement;b=b.parentWindow||b.defaultView;return z&&C("10")&&b.pageYOffset!=a.scrollTop?new v(a.scrollLeft,a.scrollTop):new v(b.pageXOffset||a.scrollLeft,b.pageYOffset||a.scrollTop)}db.prototype.appendChild=function(a,b){a.appendChild(b)};function G(a,b,c){p(b)?lb(a,c,b):ua(b,ka(lb,a))}function lb(a,b,c){(c=mb(a,c))&&(a.style[c]=b)}function mb(a,b){var c=sa(b);if(void 0===a.style[c]){var d=(B?"Webkit":A?"Moz":z?"ms":y?"O":null)+ta(b);if(void 0!==a.style[d])return d}return c}function H(a,b){var c;a:{c=eb(a);if(c.defaultView&&c.defaultView.getComputedStyle&&(c=c.defaultView.getComputedStyle(a,null))){c=c[b]||c.getPropertyValue(b)||"";break a}c=""}return c||(a.currentStyle?a.currentStyle[b]:null)||a.style&&a.style[b]}
function nb(a){var b;try{b=a.getBoundingClientRect()}catch(c){return{left:0,top:0,right:0,bottom:0}}z&&a.ownerDocument.body&&(a=a.ownerDocument,b.left-=a.documentElement.clientLeft+a.body.clientLeft,b.top-=a.documentElement.clientTop+a.body.clientTop);return b}
function ob(a){if(z&&!(z&&8<=D))return a.offsetParent;var b=eb(a),c=H(a,"position"),d="fixed"==c||"absolute"==c;for(a=a.parentNode;a&&a!=b;a=a.parentNode)if(c=H(a,"position"),d=d&&"static"==c&&a!=b.documentElement&&a!=b.body,!d&&(a.scrollWidth>a.clientWidth||a.scrollHeight>a.clientHeight||"fixed"==c||"absolute"==c||"relative"==c))return a;return null}
function pb(a,b,c){if(b instanceof Xa)c=b.height,b=b.width;else if(void 0==c)throw Error("missing height argument");a.style.width=qb(b);a.style.height=qb(c)}function qb(a){"number"==typeof a&&(a=Math.round(a)+"px");return a}function rb(a){var b=a.offsetWidth,c=a.offsetHeight,d=B&&!b&&!c;return(void 0===b||d)&&a.getBoundingClientRect?(a=nb(a),new Xa(a.right-a.left,a.bottom-a.top)):new Xa(b,c)}function I(a,b){a.style.display=b?"":"none"}var sb=/matrix\([0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, [0-9\.\-]+, ([0-9\.\-]+)p?x?, ([0-9\.\-]+)p?x?\)/;var tb=F("div",{id:"PhoneWrapper"}),ub=F("div",{id:"GameScreen","class":"screen"}),vb=F("div",{id:"PartsScreen","class":"screen"}),wb=F("div",{id:"splash","class":"screen"},"splash");document.body.appendChild(tb);tb.appendChild(ub);tb.appendChild(vb);tb.appendChild(wb);var xb=!z||z&&9<=D,yb=z&&!C("9");!B||C("528");A&&C("1.9b")||z&&C("8")||y&&C("9.5")||B&&C("528");A&&!C("8")||z&&C("9");function J(){0!=zb&&(Ab[this[fa]||(this[fa]=++ga)]=this)}var zb=0,Ab={};J.prototype.na=!1;J.prototype.i=function(){if(!this.na&&(this.na=!0,this.b(),0!=zb)){var a=this[fa]||(this[fa]=++ga);delete Ab[a]}};J.prototype.b=function(){if(this.va)for(;this.va.length;)this.va.shift()()};function L(a,b){this.type=a;this.currentTarget=this.target=b}l=L.prototype;l.b=h();l.i=h();l.u=!1;l.defaultPrevented=!1;l.ya=!0;l.stopPropagation=function(){this.u=!0};l.preventDefault=function(){this.defaultPrevented=!0;this.ya=!1};function Bb(a){Bb[" "](a);return a}Bb[" "]=h();function M(a,b){a&&Cb(this,a,b)}r(M,L);l=M.prototype;l.target=null;l.relatedTarget=null;l.offsetX=0;l.offsetY=0;l.clientX=0;l.clientY=0;l.screenX=0;l.screenY=0;l.button=0;l.keyCode=0;l.charCode=0;l.ctrlKey=!1;l.altKey=!1;l.shiftKey=!1;l.metaKey=!1;l.k=null;
function Cb(a,b,c){var d=a.type=b.type;L.call(a,d);a.target=b.target||b.srcElement;a.currentTarget=c;if(c=b.relatedTarget){if(A){var f;a:{try{Bb(c.nodeName);f=!0;break a}catch(e){}f=!1}f||(c=null)}}else"mouseover"==d?c=b.fromElement:"mouseout"==d&&(c=b.toElement);a.relatedTarget=c;a.offsetX=B||void 0!==b.offsetX?b.offsetX:b.layerX;a.offsetY=B||void 0!==b.offsetY?b.offsetY:b.layerY;a.clientX=void 0!==b.clientX?b.clientX:b.pageX;a.clientY=void 0!==b.clientY?b.clientY:b.pageY;a.screenX=b.screenX||0;
a.screenY=b.screenY||0;a.button=b.button;a.keyCode=b.keyCode||0;a.charCode=b.charCode||("keypress"==d?b.keyCode:0);a.ctrlKey=b.ctrlKey;a.altKey=b.altKey;a.shiftKey=b.shiftKey;a.metaKey=b.metaKey;a.state=b.state;a.k=b;b.defaultPrevented&&a.preventDefault();delete a.u}l.stopPropagation=function(){M.l.stopPropagation.call(this);this.k.stopPropagation?this.k.stopPropagation():this.k.cancelBubble=!0};
l.preventDefault=function(){M.l.preventDefault.call(this);var a=this.k;if(a.preventDefault)a.preventDefault();else if(a.returnValue=!1,yb)try{if(a.ctrlKey||112<=a.keyCode&&123>=a.keyCode)a.keyCode=-1}catch(b){}};l.Ea=function(){return this.k};l.b=h();var Db={d:wb,v:function(){Db.r()},V:function(){I(Db.d,!0)},r:function(){I(Db.d,!1)}};Db.v();var Eb;function Fb(a,b){n(b)||(b=[b]);var c=Ba(b,function(a){return p(a)?a:a.xa+" "+a.duration+"s "+a.timing+" "+a.ma+"s"});G(a,"transition",c.join(","))};var Gb="closure_listenable_"+(1E6*Math.random()|0);function Hb(a){try{return!(!a||!a[Gb])}catch(b){return!1}}var Ib=0;function Jb(a,b,c,d,f){this.listener=a;this.U=null;this.src=b;this.type=c;this.capture=!!d;this.O=f;this.key=++Ib;this.F=this.M=!1}function Kb(a){a.F=!0;a.listener=null;a.U=null;a.src=null;a.O=null};function N(a){this.src=a;this.g={};this.K=0}N.prototype.add=function(a,b,c,d,f){var e=this.g[a];e||(e=this.g[a]=[],this.K++);var g=Lb(e,b,d,f);-1<g?(a=e[g],c||(a.M=!1)):(a=new Jb(b,this.src,a,!!d,f),a.M=c,e.push(a));return a};N.prototype.remove=function(a,b,c,d){if(!(a in this.g))return!1;var f=this.g[a];b=Lb(f,b,c,d);return-1<b?(Kb(f[b]),u.splice.call(f,b,1),0==f.length&&(delete this.g[a],this.K--),!0):!1};
function Mb(a,b){var c=b.type;if(!(c in a.g))return!1;var d=Ca(a.g[c],b);d&&(Kb(b),0==a.g[c].length&&(delete a.g[c],a.K--));return d}N.prototype.ia=function(a){var b=0,c;for(c in this.g)if(!a||c==a){for(var d=this.g[c],f=0;f<d.length;f++)++b,Kb(d[f]);delete this.g[c];this.K--}return b};N.prototype.G=function(a,b,c,d){a=this.g[a];var f=-1;a&&(f=Lb(a,b,c,d));return-1<f?a[f]:null};
function Lb(a,b,c,d){for(var f=0;f<a.length;++f){var e=a[f];if(!e.F&&e.listener==b&&e.capture==!!c&&e.O==d)return f}return-1};var Nb="closure_lm_"+(1E6*Math.random()|0),O={},Ob=0;function P(a,b,c,d,f){if(n(b)){for(var e=0;e<b.length;e++)P(a,b[e],c,d,f);return null}c=Pb(c);if(Hb(a))a=a.D(b,c,d,f);else{if(!b)throw Error("Invalid event type");var e=!!d,g=Qb(a);g||(a[Nb]=g=new N(a));c=g.add(b,c,!1,d,f);c.U||(d=Rb(),c.U=d,d.src=a,d.listener=c,a.addEventListener?a.addEventListener(b,d,e):a.attachEvent(b in O?O[b]:O[b]="on"+b,d),Ob++);a=c}return a}
function Rb(){var a=Sb,b=xb?function(c){return a.call(b.src,b.listener,c)}:function(c){c=a.call(b.src,b.listener,c);if(!c)return c};return b}function Tb(a,b,c,d,f){if(n(b))for(var e=0;e<b.length;e++)Tb(a,b[e],c,d,f);else c=Pb(c),Hb(a)?a.ka(b,c,d,f):a&&(a=Qb(a))&&(b=a.G(b,c,!!d,f))&&Q(b)}
function Q(a){if(ca(a)||!a||a.F)return!1;var b=a.src;if(Hb(b))return Mb(b.q,a);var c=a.type,d=a.U;b.removeEventListener?b.removeEventListener(c,d,a.capture):b.detachEvent&&b.detachEvent(c in O?O[c]:O[c]="on"+c,d);Ob--;(c=Qb(b))?(Mb(c,a),0==c.K&&(c.src=null,b[Nb]=null)):Kb(a);return!0}function Ub(a,b,c,d){var f=1;if(a=Qb(a))if(b=a.g[b])for(b=Da(b),a=0;a<b.length;a++){var e=b[a];e&&e.capture==c&&!e.F&&(f&=!1!==Vb(e,d))}return Boolean(f)}
function Vb(a,b){var c=a.listener,d=a.O||a.src;a.M&&Q(a);return c.call(d,b)}
function Sb(a,b){if(a.F)return!0;if(!xb){var c;if(!(c=b))a:{c=["window","event"];for(var d=m,f;f=c.shift();)if(null!=d[f])d=d[f];else{c=null;break a}c=d}f=c;c=new M(f,this);d=!0;if(!(0>f.keyCode||void 0!=f.returnValue)){a:{var e=!1;if(0==f.keyCode)try{f.keyCode=-1;break a}catch(g){e=!0}if(e||void 0==f.returnValue)f.returnValue=!0}f=[];for(e=c.currentTarget;e;e=e.parentNode)f.push(e);for(var e=a.type,k=f.length-1;!c.u&&0<=k;k--)c.currentTarget=f[k],d&=Ub(f[k],e,!0,c);for(k=0;!c.u&&k<f.length;k++)c.currentTarget=
f[k],d&=Ub(f[k],e,!1,c)}return d}return Vb(a,new M(b,this))}function Qb(a){a=a[Nb];return a instanceof N?a:null}var Wb="__closure_events_fn_"+(1E9*Math.random()>>>0);function Pb(a){return da(a)?a:a[Wb]||(a[Wb]=function(b){return a.handleEvent(b)})};function R(a){J.call(this);this.qa=a;this.T={}}r(R,J);var Xb=[];l=R.prototype;l.D=function(a,b,c,d,f){n(b)||(Xb[0]=b,b=Xb);for(var e=0;e<b.length;e++){var g=P(a,b[e],c||this,d||!1,f||this.qa||this);if(!g)break;this.T[g.key]=g}return this};l.ka=function(a,b,c,d,f){if(n(b))for(var e=0;e<b.length;e++)this.ka(a,b[e],c,d,f);else f=f||this.qa||this,c=Pb(c||this),d=!!d,b=Hb(a)?a.G(b,c,d,f):a?(a=Qb(a))?a.G(b,c,d,f):null:null,b&&(Q(b),delete this.T[b.key]);return this};
l.ia=function(){ua(this.T,Q);this.T={}};l.b=function(){R.l.b.call(this);this.ia()};l.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented");};function Yb(a,b){this.a=null;this.ba=h();J.call(this);this.ba=b;this.a=F("div",{"class":"Button"});var c=F("div",{"class":"ButtonTextContainer"},a);this.la=new R;this.la.D(this.a,"click",this.Ba,!1,this);this.a.appendChild(c)}r(Yb,J);Yb.prototype.Ba=function(){this.ba(this)};Yb.prototype.b=function(){ib(this.a);jb(this.a);this.a=null;this.ba=h();this.la.i();Yb.l.b.call(this)};var Zb=[{name:"stage0",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},I:["red","green"]}]}];function $b(a){switch(a){case "n":return 90;case "s":return 270;case "e":return 180}return 0}function ac(a,b){var c=new v(a.x-b.x,a.y-b.y);return 0===c.x&&0<c.y?"n":0===c.x&&0>c.y?"s":0>c.x&&0===c.y?"e":0<c.x&&0===c.y?"w":null};var bc=[{name:"stage0",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},I:["red","green"]},{name:"verse2",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},I:["red","green"]}]},{name:"stage1",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,
1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},I:["red","green"]}]},{name:"stage2",p:[{name:"verse0",C:[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,1,1,1,1,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],f:[],pattern:{},I:["red","green"]}]}];var S={m:bc,Xa:function(a){S.m=a?Zb:bc},Sa:function(a,b,c){return{f:S.Ga(a,b,c),B:0===S.m[b].p[c].C[a.y][a.x]?!1:!0}},J:function(a,b,c){return 8<=a.x||0>a.x?0:8<=a.y||0>a.y?0:S.m[b].p[c].C[a.y][a.x]},Ga:function(a,b,c){for(var d={n:!1,e:!1,s:!1,w:!1},f=S.J(a,b,c),e=[a.x,a.y],g=S.m[b].p[c],k=0;k<g.f.length;k++){var x=g.f[k][0],K=g.f[k][1];e[0]===x[0]&&e[1]===x[1]?d[ac(x,K)]=!0:e[0]===K[0]&&e[1]===K[1]&&(d[ac(K,x)]=!0)}S.P(f,S.J(new v(a.x+1,a.y),b,c))&&(d.e=!0);S.P(f,S.J(new v(a.x-1,a.y),b,c))&&(d.w=
!0);S.P(f,S.J(new v(a.x,a.y-1),b,c))&&(d.n=!0);S.P(f,S.J(new v(a.x,a.y+1),b,c))&&(d.s=!0);return d},P:function(a,b){return 0===a&&1===b||0===b&&1===a},Wa:function(a){return S.m[a].p.length},Da:function(a,b){return S.m[a].p[b].I}};var T={m:S,d:null,W:null,A:[],v:function(){T.m=S.m;T.Ra=S.Ra;T.fa();T.r()},fa:function(){T.d=F("div",{id:"SongsScreen","class":"screen"});T.W=F("div",{id:"SongButtons"});T.Ka();document.body.appendChild(T.d);T.d.appendChild(T.W)},Ka:function(){for(var a=0;a<bc.length;a++){var b=bc[a],c=new Yb(b.name,T.Pa);T.A.push({button:c,data:b,index:a});T.W.appendChild(c.a)}},Va:function(){T.A=null;ib(T.W)},Pa:function(a){for(var b=null,c=0;c<T.A.length;c++)if(T.A[c].button===a){b=T.A[c].index;break}0<=b?(cc=
b,U.showparts()):console.log("No song obj for the clicked songButton. W.T.F.?")},V:function(){I(T.d,!0)},r:function(){I(T.d,!1)}};T.v();function dc(a){this.position=a;this.f={};this.B=!1}dc.prototype.reset=function(){this.f={};this.B=!1};var ec=F("div",{id:"BoardView"}),fc=F("canvas",{id:"TileCanvas"}),V=null;function gc(){var a=V;a.save();a.translate(35,35);a.strokeStyle="#999";a.lineWidth=1;for(var b=0;9>b;b++)a.beginPath(),a.moveTo(0,70*b),a.lineTo(560,70*b),a.stroke();for(b=0;9>b;b++)a.beginPath(),a.moveTo(70*b,0),a.lineTo(70*b,560),a.stroke();a.restore()}function hc(a,b){var c=new v(a,b);c.translate(-35,-35);c.scale(1/70);return c.floor()}ec.appendChild(fc);V=fc.getContext("2d");pb(ec,630,630);pb(fc,630,630);V.canvas.width=630;
V.canvas.height=630;ub.appendChild(ec);P(ec,"mousedown",function(a){a.stopPropagation();a=hc(a.offsetX,a.offsetY);if(null!==ic){var b=jc(a)?kc[a.y][a.x]:null;b&&b.B&&null===lc(a)?null!==ic&&(b=new W(ic),b.setPosition(a),0<=ya(mc,b)||mc.push(b),nc()):nc()}});P(ec,"mouseup",function(a){hc(a.offsetX,a.offsetY)});var kc=Array(8);function jc(a){var b=a.x;a=a.y;return 0<=b&&8>b&&0<=a&&8>a}function oc(a){for(var b=0;8>b;b++)for(var c=0;8>c;c++){var d=new v(b,c);a(jc(d)?kc[d.y][d.x]:null,d)}}function pc(){V.clearRect(0,0,fc.width,fc.height);oc(function(a){a.reset()})}
function qc(){gc();oc(function(a){V.save();V.translate(35,35);var b=V;if(a.B){var c=a.position.ca().scale(70);a.f.s&&(b.beginPath(),b.lineWidth=4,b.strokeStyle="#fff",b.moveTo(c.x+4,c.y+70),b.lineTo(c.x+70-4,c.y+70),b.stroke());a.f.n&&(b.beginPath(),b.lineWidth=4,b.strokeStyle="#fff",b.moveTo(c.x+4,c.y),b.lineTo(c.x+70-4,c.y),b.stroke());a.f.w&&(b.beginPath(),b.lineWidth=4,b.strokeStyle="#fff",b.moveTo(c.x,c.y+4),b.lineTo(c.x,c.y+70-4),b.stroke());a.f.e&&(b.beginPath(),b.lineWidth=4,b.strokeStyle=
"#fff",b.moveTo(c.x+70,c.y+4),b.lineTo(c.x+70,c.y+70-4),b.stroke())}V.restore()})}for(var rc=0;8>rc;rc++)kc[rc]=Array(8);for(var sc=0;8>sc;sc++)for(var tc=0;8>tc;tc++)kc[tc][sc]=new dc(new v(sc,tc));var ic=null,X=[],uc=F("div",{id:"PieceSelection"});function vc(){for(var a=0;a<X.length;a++)X[a].i();X=[]}function wc(a){ic=a;for(var b=0;b<X.length;b++){var c=X[b];c.type===a?xc(c.view,!0):xc(c.view,!1)}}function nc(){for(var a=0;a<X.length;a++)xc(X[a].view,!1);ic=null}ub.appendChild(uc);function Y(){J.call(this);this.q=new N(this);this.Aa=this}r(Y,J);Y.prototype[Gb]=!0;l=Y.prototype;l.ga=null;l.addEventListener=function(a,b,c,d){P(this,a,b,c,d)};l.removeEventListener=function(a,b,c,d){Tb(this,a,b,c,d)};
l.dispatchEvent=function(a){var b,c=this.ga;if(c)for(b=[];c;c=c.ga)b.push(c);var c=this.Aa,d=a.type||a;if(p(a))a=new L(a,c);else if(a instanceof L)a.target=a.target||c;else{var f=a;a=new L(d,c);wa(a,f)}var f=!0,e;if(b)for(var g=b.length-1;!a.u&&0<=g;g--)e=a.currentTarget=b[g],f=yc(e,d,!0,a)&&f;a.u||(e=a.currentTarget=c,f=yc(e,d,!0,a)&&f,a.u||(f=yc(e,d,!1,a)&&f));if(b)for(g=0;!a.u&&g<b.length;g++)e=a.currentTarget=b[g],f=yc(e,d,!1,a)&&f;return f};
l.b=function(){Y.l.b.call(this);this.q&&this.q.ia(void 0);this.ga=null};l.D=function(a,b,c,d){return this.q.add(a,b,!1,c,d)};l.ka=function(a,b,c,d){return this.q.remove(a,b,c,d)};function yc(a,b,c,d){b=a.q.g[b];if(!b)return!0;b=Da(b);for(var f=!0,e=0;e<b.length;++e){var g=b[e];if(g&&!g.F&&g.capture==c){var k=g.listener,x=g.O||g.src;g.M&&Mb(a.q,g);f=!1!==k.call(x,d)&&f}}return f&&!1!=d.ya}l.G=function(a,b,c,d){return this.q.G(a,b,c,d)};function zc(){Y.call(this);this.X=Ac;this.startTime=null}r(zc,Y);var Ac=0;function Bc(a,b,c){if(da(a))c&&(a=ja(a,c));else if(a&&"function"==typeof a.handleEvent)a=ja(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<b?-1:m.setTimeout(a,b||0)};function Cc(a,b,c,d,f){zc.call(this);this.j=a;this.Ca=b;this.Ja=c;this.oa=d;this.Ta=n(f)?f:[f]}r(Cc,zc);l=Cc.prototype;
l.play=function(){if(1==this.X)return!1;this.dispatchEvent("begin");this.dispatchEvent("play");this.startTime=la();this.X=1;if(void 0===Eb)if(z)Eb=C("10.0");else{var a=document.createElement("div"),b=Ya();a.innerHTML='<div style="'+(b?b+"-transition:opacity 1s linear;":"")+'transition:opacity 1s linear;">';a=a.firstChild;b=a.style[sa("transition")];Eb=""!=("undefined"!==typeof b?b:a.style[mb(a,"transition")]||"")}if(Eb)return G(this.j,this.Ja),this.za=Bc(this.Qa,void 0,this),!0;this.ja(!1);return!1};
l.Qa=function(){Fb(this.j,this.Ta);G(this.j,this.oa);this.za=Bc(ja(this.ja,this,!1),1E3*this.Ca)};l.stop=function(){1==this.X&&this.ja(!0)};l.ja=function(a){G(this.j,"transition","");m.clearTimeout(this.za);G(this.j,this.oa);la();this.X=Ac;a?this.dispatchEvent("stop"):this.dispatchEvent("finish");this.dispatchEvent("end")};l.b=function(){this.stop();Cc.l.b.call(this)};function Dc(a){J.call(this);this.c=a;this.a=F("div",{"class":"PieceView"});this.$=F("canvas",{id:"PieceViewCanvas"});this.o=F("div",{id:"MouseLayer"});this.a.appendChild(this.o);this.a.appendChild(this.$);this.context=this.$.getContext("2d");E(this.a,this.c.type);this.sa=new R;this.sa.D(this.o,["touchstart","mousedown"],this.La,!1,this);this.ua=new R;this.ua.D(this.o,["touchend","mouseup","touchcancel","mouseout"],this.Na,!1,this);this.ta=new R;this.ta.D(this.o,["touchmove","mousemove"],this.Ma,!1,
this);this.selected=this.da=!1;this.pa=!0;this.L=0;this.c.selection?uc.appendChild(this.a):(this.selected=!0,E(this.o,"expanded"));this.size();this.context.moveTo(47.6,11.2);this.context.lineTo(11.2,35);this.context.lineTo(47.6,58.8);this.context.strokeStyle=Ec(this.c.type);this.context.lineWidth=11.2;this.context.lineCap="round";this.context.lineJoin="round";this.context.stroke()}r(Dc,J);l=Dc.prototype;l.b=function(){this.sa.i();this.ua.i();this.ta.i();ib(this.a);jb(this.a);this.c=this.a=null;Dc.l.b.call(this)};
l.La=function(a){a.preventDefault();a.stopPropagation();this.selected=!0;this.c.selection?wc(this.c.type):E(this.o,"expanded")};function xc(a,b){b?E(a.a,"selected"):$a(a.a,"selected")}l.Na=function(a){a.preventDefault();a.stopPropagation();!this.selected||this.da||this.c.selection||this.pa||(wc(this.c.type),a=this.c,Ca(mc,a)&&a.i());this.pa=this.da=this.selected=!1;$a(this.o,"expanded")};
l.Ma=function(a){a.preventDefault();a.stopPropagation();this.da=!0;if(this.selected&&!this.c.selection){var b=a.type;"touchstart"==b||"touchmove"==b?Cb(a,a.k.targetTouches[0],a.currentTarget):"touchend"!=b&&"touchcancel"!=b||Cb(a,a.k.changedTouches[0],a.currentTarget);var c=this.o;if("none"!=H(c,"display"))b=rb(c);else{var b=c.style,d=b.display,f=b.visibility,e=b.position;b.visibility="hidden";b.position="absolute";b.display="inline";c=rb(c);b.display=d;b.position=e;b.visibility=f;b=c}var g;d=this.o;
if(1==d.nodeType){var k;if(d.getBoundingClientRect)k=nb(d),k=new v(k.left,k.top);else{f=kb(cb(d));var c=eb(d),x=H(d,"position"),K=A&&c.getBoxObjectFor&&!d.getBoundingClientRect&&"absolute"==x&&(k=c.getBoxObjectFor(d))&&(0>k.screenX||0>k.screenY),e=new v(0,0),t;k=c?eb(c):document;(t=!z)||(t=z&&9<=D)||(t="CSS1Compat"==cb(k).N.compatMode);t=t?k.documentElement:k.body;if(d!=t)if(d.getBoundingClientRect)k=nb(d),c=kb(cb(c)),e.x=k.left+c.x,e.y=k.top+c.y;else if(c.getBoxObjectFor&&!K)k=c.getBoxObjectFor(d),
c=c.getBoxObjectFor(t),e.x=k.screenX-c.screenX,e.y=k.screenY-c.screenY;else{k=d;do{e.x+=k.offsetLeft;e.y+=k.offsetTop;k!=d&&(e.x+=k.clientLeft||0,e.y+=k.clientTop||0);if(B&&"fixed"==H(k,"position")){e.x+=c.body.scrollLeft;e.y+=c.body.scrollTop;break}k=k.offsetParent}while(k&&k!=d);if(y||B&&"absolute"==x)e.y-=c.body.offsetTop;for(k=d;(k=ob(k))&&k!=c.body&&k!=t;)e.x-=k.scrollLeft,y&&"TR"==k.tagName||(e.y-=k.scrollTop)}k=new v(e.x-f.x,e.y-f.y)}if(A&&!C(12)){z?g="-ms-transform":B?g="-webkit-transform":
y?g="-o-transform":A&&(g="-moz-transform");var q;g&&(q=H(d,g));q||(q=H(d,"transform"));g=q?(g=q.match(sb))?new v(parseFloat(g[1]),parseFloat(g[2])):new v(0,0):new v(0,0);g=new v(k.x+g.x,k.y+g.y)}else g=k}else g=da(d.Ea),q=d,d.targetTouches?q=d.targetTouches[0]:g&&d.k.targetTouches&&(q=d.k.targetTouches[0]),g=new v(q.clientX,q.clientY);a=new v(a.clientX-g.x,a.clientY-g.y);a.translate(-b.width/2,-b.height/2);a=hc(a.x,a.y);a=ac(new v(-1,-1),a);null!==a&&(b=this.c,b.direction!==a&&(b.direction=a,Fc(b.view)))}};
l.size=function(){pb(this.$,70,70);this.context.canvas.height=70;this.context.canvas.width=70};function Fc(a){var b=a.c;if(!b.selection){b.wa?ec.appendChild(a.a):jb(a.a);var c=b.direction,b=b.position.ca().scale(70).translate(35,35),b=s("translate( ",b.x,"px , ",b.y,"px)"),c=$b(c)-a.L%360;-180>c?c+=360:180<c&&(c-=360);a.L+=c;c=s(b,s("rotate( ",a.L,"deg) "));G(a.a,"transition","");G(a.a,{transform:c,transition:s(Ya(),"-transform 50ms")})}};function Gc(a){var b=[];a=a||document.styleSheets;if(a.imports&&a.imports.length)for(var c=0,d=a.imports.length;c<d;c++)Ea(b,Gc(a.imports[c]));else if(a.length)for(c=0,d=a.length;c<d;c++)Ea(b,Gc(a[c]));else{var f,c=null;try{c=a.rules||a.cssRules}catch(e){if(15==e.code)throw e.styleSheet=a,e;}if((f=c)&&f.length)for(var c=0,d=f.length,g;c<d;c++)g=f[c],g.styleSheet&&Ea(b,Gc(g.styleSheet))}!(a.type||a.rules||a.cssRules)||a.disabled||b.push(a);return b};function Hc(a){J.call(this);this.c=a}r(Hc,J);
function Ic(a,b){for(var c=b.length,d=0;d<c;d++)var f=b[d],e=100*(d/(c-1)),f=s(e.toFixed(0),"% {",f.view.Fa(),"}");for(var g=Ya()+"-",k=s("@",g,"keyframes ",a.c.uid,"_animation { \n"),d=0;d<c;d++)f=b[d],e=100*(d/(c-1)),f=s(e.toFixed(2),"% {",f.view.Fa(g),"} \n"),k=s(k,f);k=s(k,"} \n");c=s(".animate_",a.c.uid," { ",g,"animation: ",a.c.uid,"_animation ","5s infinite linear; ");c=s(c,"animation: ",a.c.uid,"_animation ","5s infinite linear; }\n");k=s(c," \n ",k,"\n");c=document;d=c.createElement("style");
d.type="text/css";c.getElementsByTagName("head")[0].appendChild(d);d.styleSheet?d.styleSheet.cssText=k:d.appendChild(c.createTextNode(k));fb(d,{id:"nononono"});return s("animate_",a.c.uid)}Hc.prototype.b=function(){this.c=null;Hc.l.b.call(this)};a:for(var Jc=Gc(),Kc=0;Kc<Jc.length;Kc++){var Lc=Jc[Kc].href;if("animations.css"===(Lc?/([^\/\?]+)[^\/]*$/.exec(Lc)[1]:null))break a};function Mc(){J.call(this);this.Y=[];this.view=new Hc(this);this.uid=Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^la()).toString(36)}r(Mc,J);Mc.prototype.b=function(){for(var a=0;a<this.Y.length;a++)this.Y[a].i();this.Y=null;Mc.l.b.call(this)};function W(a,b){J.call(this);this.type=a||Nc;this.direction="w";this.position=new v(-1,-1);this.Z=new Mc;this.selection=b||!1;this.wa=!1;this.view=new Dc(this)}r(W,J);W.prototype.setPosition=function(a){a==this.position||a&&this.position&&a.x==this.position.x&&a.y==this.position.y||(this.wa=!0,this.position=a,Fc(this.view))};W.prototype.b=function(){this.Z.i();this.Z=null;this.view.i();this.view=null;W.l.b.call(this)};
W.prototype.play=function(){var a=Ic(this.Z.view,this.Z.Y);E(this.view.a,a);setTimeout(h(),1E3)};var Nc="red";function Ec(a){switch(a){case "green":return"#53CC66";case "blue":return"#0092D2";case "yellow":return"#F58107";case "purple":return"#CA60CA"}return"#d4463f"};var mc=[];function Oc(a){for(var b=0,c=mc.length;b<c;b++)a(mc[b],b)}function lc(a){var b=null;Oc(function(c){(c.position==a||c.position&&a&&c.position.x==a.x&&c.position.y==a.y)&&(b=c)});return b}function Pc(){Oc(function(a){a.i()});mc=[];vc()};var Qc=0;Pc();Qc=Qc||0;(function(a){pc();oc(function(b,c){var d=S.Sa(c,0,a);b.f=d.f;b.B=d.B});qc()})(Qc);var Rc=Qc;Pc();for(var Sc=S.Da(0,Rc),Tc=0;Tc<Sc.length;Tc++){var Uc=new W(Sc[Tc],!0);X.push(Uc)};var Vc={d:ub,v:function(){Vc.r()},V:function(){I(Vc.d,!0)},r:function(){I(Vc.d,!1)}};Vc.v();var cc=-1;var Z={m:S,d:vb,H:null,ha:[],v:function(){Z.H=F("div",{id:"PartsButtons"});Z.fa();Z.r()},fa:function(){Z.H=F("div",{id:"PartsButtons"});Z.ra();Z.d.appendChild(Z.H)},ra:function(){var a=cc;if(0<=a)for(var a=bc[a].p,b=0;b<a.length;b++){var c=a[b],d=new Yb(c.name,Z.Oa);Z.ha.push({button:d,data:c,index:b});Z.H.appendChild(d.a)}},Ua:function(){Z.A=null;ib(Z.H)},Oa:function(a){for(var b=null,c=0;c<Z.A.length;c++)if(Z.ha[c].button===a){b=Z.ha[c].index;break}b?(cc=b,U.showgame()):console.log("No song obj for the clicked partButton. W.T.F.?")},
V:function(){Z.ra();I(Z.d,!0)},r:function(){I(Z.d,!1)}};Z.v();var $={};function Wc(a){var b=new Cc($[a].d,0.5,{opacity:0},{opacity:1},{xa:"opacity",duration:0.5,timing:"ease-in",ma:0});P(b,"finish",h());$[a].V();b.play()}function Xc(a){var b=new Cc($[a].d,0.5,{opacity:1},{opacity:0},{xa:"opacity",duration:0.5,timing:"ease-in",ma:0});P(b,"finish",function(){U.transition();$[a].r()});b.play()}$.SCREEN_SPLASH=Db;$.SCREEN_SONGS=T;$.SCREEN_PARTS=Z;$.SCREEN_GAME=Vc;function Yc(){var a=Zc;setTimeout(function(){a()},200)};var U={};function Zc(){U.showsongs()}
U=StateMachine.create({events:[{name:"start",from:"none",to:"splash"},{name:"showsongs",from:["splash","parts","game"],to:"songs"},{name:"showparts",from:["songs","game"],to:"parts"},{name:"showgame",from:["splash","parts","songs"],to:"game"}],callbacks:{onbeforestart:h(),onbeforeshowsongs:h(),onbeforeshowparts:h(),onbeforeshowgame:h(),onstart:function(){Wc("SCREEN_SPLASH");Yc()},onshowsongs:function(){Wc("SCREEN_SONGS")},onshowparts:function(){Wc("SCREEN_PARTS")},onshowgame:function(){Wc("SCREEN_GAME")},
onleavesplash:function(){Xc("SCREEN_SPLASH");return StateMachine.ASYNC},onleavesongs:function(){Xc("SCREEN_SONGS");return StateMachine.ASYNC},onleaveparts:function(){Xc("SCREEN_PARTS");return StateMachine.ASYNC},onleavegame:function(){Xc("SCREEN_GAME");return StateMachine.ASYNC},onsplash:function(){console.log("ENTER   STATE: onsplash")},onsongs:function(){console.log("ENTER   STATE: onsongs")},onparts:function(){console.log("ENTER   STATE: onparts")},ongame:function(){console.log("ENTER   STATE: ongame")},
onchangestate:function(a,b,c){console.log("CHANGED STATE: "+b+" to "+c)}}});function $c(a,b,c,d,f){if(!(z||B&&C("525")))return!0;if(Na&&f)return ad(a);if(f&&!d||!c&&(17==b||18==b||Na&&91==b))return!1;if(B&&d&&c)switch(a){case 220:case 219:case 221:case 192:case 186:case 189:case 187:case 188:case 190:case 191:case 192:case 222:return!1}if(z&&d&&b==a)return!1;switch(a){case 13:return!(z&&z&&9<=D);case 27:return!B}return ad(a)}
function ad(a){if(48<=a&&57>=a||96<=a&&106>=a||65<=a&&90>=a||B&&0==a)return!0;switch(a){case 32:case 63:case 107:case 109:case 110:case 111:case 186:case 59:case 189:case 187:case 61:case 188:case 190:case 191:case 192:case 222:case 219:case 220:case 221:return!0;default:return!1}}function bd(a){switch(a){case 61:return 187;case 59:return 186;case 173:return 189;case 224:return 91;case 0:return 224;default:return a}};function cd(a,b){Y.call(this);a&&(this.S&&this.detach(),this.j=a,this.R=P(this.j,"keypress",this,b),this.ea=P(this.j,"keydown",this.Ha,b,this),this.S=P(this.j,"keyup",this.Ia,b,this))}r(cd,Y);l=cd.prototype;l.j=null;l.R=null;l.ea=null;l.S=null;l.h=-1;l.t=-1;l.aa=!1;
var dd={3:13,12:144,63232:38,63233:40,63234:37,63235:39,63236:112,63237:113,63238:114,63239:115,63240:116,63241:117,63242:118,63243:119,63244:120,63245:121,63246:122,63247:123,63248:44,63272:46,63273:36,63275:35,63276:33,63277:34,63289:144,63302:45},ed={Up:38,Down:40,Left:37,Right:39,Enter:13,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,"U+007F":46,Home:36,End:35,PageUp:33,PageDown:34,Insert:45},fd=z||B&&C("525"),gd=Na&&A;l=cd.prototype;
l.Ha=function(a){B&&(17==this.h&&!a.ctrlKey||18==this.h&&!a.altKey||Na&&91==this.h&&!a.metaKey)&&(this.t=this.h=-1);-1==this.h&&(a.ctrlKey&&17!=a.keyCode?this.h=17:a.altKey&&18!=a.keyCode?this.h=18:a.metaKey&&91!=a.keyCode&&(this.h=91));fd&&!$c(a.keyCode,this.h,a.shiftKey,a.ctrlKey,a.altKey)?this.handleEvent(a):(this.t=A?bd(a.keyCode):a.keyCode,gd&&(this.aa=a.altKey))};l.Ia=function(a){this.t=this.h=-1;this.aa=a.altKey};
l.handleEvent=function(a){var b=a.k,c,d,f=b.altKey;z&&"keypress"==a.type?(c=this.t,d=13!=c&&27!=c?b.keyCode:0):B&&"keypress"==a.type?(c=this.t,d=0<=b.charCode&&63232>b.charCode&&ad(c)?b.charCode:0):y?(c=this.t,d=ad(c)?b.keyCode:0):(c=b.keyCode||this.t,d=b.charCode||0,gd&&(f=this.aa),Na&&63==d&&224==c&&(c=191));var e=c,g=b.keyIdentifier;c?63232<=c&&c in dd?e=dd[c]:25==c&&a.shiftKey&&(e=9):g&&g in ed&&(e=ed[g]);a=e==this.h;this.h=e;b=new hd(e,d,a,b);b.altKey=f;this.dispatchEvent(b)};
l.detach=function(){this.R&&(Q(this.R),Q(this.ea),Q(this.S),this.S=this.ea=this.R=null);this.j=null;this.t=this.h=-1};l.b=function(){cd.l.b.call(this);this.detach()};function hd(a,b,c,d){d&&Cb(this,d,void 0);this.type="key";this.keyCode=a;this.charCode=b;this.repeat=c}r(hd,M);var id=new cd(document);P(id,"key",function(a){71==a.keyCode?(console.log("Going to GameScreen"),U.showgame()):83==a.keyCode?(console.log("Going to SongsScreen"),U.showsongs()):80==a.keyCode&&(console.log("Going to PartsScreen"),U.showparts())});console.log("GRID version 0.0.2");U.start();})();
